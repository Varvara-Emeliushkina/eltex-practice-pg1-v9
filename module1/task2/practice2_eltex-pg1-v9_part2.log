Script started on 2025-10-20 21:33:27+07:00 [TERM="xterm" TTY="/dev/pts/117" COLUMNS="93" LINES="48"]
[?2004heltex-pg1-v9@eltex-2025-autumn-21:33> ssh root@[7m172.16.9.183[27m172.16.9.183
[?2004lWelcome to Ubuntu 24.04.2 LTS (GNU/Linux 6.8.0-55-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Mon Oct 20 02:33:50 PM UTC 2025

  System load:  0.0                Processes:              112
  Usage of /:   41.5% of 14.66GB   Users logged in:        0
  Memory usage: 18%                IPv4 address for ens18: 172.16.9.183
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

83 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


*** System restart required ***
Варвара Емелюшкина
Sun Oct 19 10:30:46 AM UTC 2025
Last login: Mon Oct 20 14:27:39 2025 from 172.16.8.4
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# sudo jourmalctl -[7mb -q -S "-20 seconds" 2>/dev/null | head -20[27m[1Pb -q -S "-20 seconds" 2>/dev/null | head -2[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
[?2004lsudo: jourmalctl: command not found
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7msudo jourmalctl -b -q -S "-20 seconds"[27m[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csudo jourmalctl -b -q -S "-20 seconds"[1P[1@n
[?2004l[?1h=Oct 20 14:35:01 eltex-practice2-pg1-v9 CRON[50069]: pam_unix(cron:session): session opened f[m[7m>[27m
Oct 20 14:35:01 eltex-practice2-pg1-v9 CRON[50070]: (root) CMD (command -v debian-sa1 > /dev[m[7m>[27m
Oct 20 14:35:01 eltex-practice2-pg1-v9 CRON[50069]: pam_unix(cron:session): session closed f[m[7m>[27m
[7mlines 1-3/3 (END)[27m[K[K [KESCESC[KOO[KBB[K[K[7mlines 1-3/3 (END)[27m[K[K[?1l>[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk -f[K[K[K[K[K[Kаш[K[Kfind var?[K/log - name ""a"u"t"h"."l"o"g"*g"[1Pg"[C*"[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@ [C[C[1P
[?2004l[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mfind -name "auth.log*"[27mfind -name "auth.log*"[C[C[C[1@/[1@v[1@a[1@r[1@/[1@l[1@o[1@g[1@ 
[?2004l/var/log/auth.log
/var/log/auth.log.1
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# f[Kcat [K[K[K[Ktail [7m/var/log/auth.log[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C/var/log/auth.log[C-/var/log/auth.log2/var/log/auth.log0/var/log/auth.log /var/log/auth.log
[?2004l2025-10-20T14:30:48.526821+00:00 eltex-practice2-pg1-v9 sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -S '-20 seconds'
2025-10-20T14:30:48.527080+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:30:48.530013+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session closed for user root
2025-10-20T14:31:06.246542+00:00 eltex-practice2-pg1-v9 sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -S '-20 seconds'
2025-10-20T14:31:06.246811+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:31:21.118459+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session closed for user root
2025-10-20T14:31:21.118674+00:00 eltex-practice2-pg1-v9 sshd[49784]: Received disconnect from 172.16.8.4 port 36260:11: disconnected by user
2025-10-20T14:31:21.118738+00:00 eltex-practice2-pg1-v9 sshd[49784]: Disconnected from user root 172.16.8.4 port 36260
2025-10-20T14:31:21.118768+00:00 eltex-practice2-pg1-v9 sshd[49784]: pam_unix(sshd:session): session closed for user root
2025-10-20T14:31:21.120477+00:00 eltex-practice2-pg1-v9 systemd-logind[703]: Session 937 logged out. Waiting for processes to exit.
2025-10-20T14:31:21.120855+00:00 eltex-practice2-pg1-v9 systemd-logind[703]: Removed session 937.
2025-10-20T14:33:50.473331+00:00 eltex-practice2-pg1-v9 sshd[49983]: Accepted publickey for root from 172.16.8.4 port 47670 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
2025-10-20T14:33:50.474194+00:00 eltex-practice2-pg1-v9 sshd[49983]: pam_unix(sshd:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:33:50.494069+00:00 eltex-practice2-pg1-v9 systemd-logind[703]: New session 939 of user root.
2025-10-20T14:33:50.503238+00:00 eltex-practice2-pg1-v9 (systemd): pam_unix(systemd-user:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:35:01.253002+00:00 eltex-practice2-pg1-v9 CRON[50069]: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:35:01.254104+00:00 eltex-practice2-pg1-v9 CRON[50069]: pam_unix(cron:session): session closed for user root
2025-10-20T14:35:08.207860+00:00 eltex-practice2-pg1-v9 sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -q -S '-20 seconds'
2025-10-20T14:35:08.683387+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:35:23.637560+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session closed for user root
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mfind /var/log -name "auth.log*"[27mfind /var/log -name "auth.log*" | -1
[?2004l-1: command not found
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mfind /var/log -name "auth.log*" | -1[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cfind /var/log -name "auth.log*" | -1
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K | head -1
[?2004l/var/log/auth.log
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# AUTH_LOG=""[7mfind /var/log -name "auth.log*" | head -1[27m"find /var/log -name "auth.log*" | head -1"
[?2004l[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# $[K$[7m AUTH_LOG[27m AUTH_LOG[1PAUTH_LOGe$AUTH_LOGc$AUTH_LOGh$AUTH_LOGo$AUTH_LOG $AUTH_LOG
[?2004lfind /var/log -name auth.log* | head -1
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# rm [7mAUTH_LOG[27mAUTH_LOG
[?2004lrm: cannot remove 'AUTH_LOG': No such file or directory
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mAUTH_LOG="find /var/log -name "auth.log*" | head -1"[27m[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1PAUTH_LOG="find /var/log -name "auth.log*" | head -1[1P[1@ 
[?2004l/var/log/auth.log
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mecho $AUTH_LOG[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cecho $AUTH_LOG
[A
[?2004lfind /var/log -name auth.log* | head -1
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mAUTH_LOG="/var/log/auth.log"[27mAUTH_LOG="/var/log/auth.log"
[?2004l[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mecho $AUTH_LOG[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cecho $AUTH_LOG
[A
[?2004l/var/log/auth.log
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mAUTH_LOG=[27mAUTH_LOG=$()[7mfind /var/log -name "auth.log*" | head -1[27m)find /var/log -name "auth.log*" | head -1)
[?2004l[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mecho $AUTH_LOG[27mecho $AUTH_LOG
[?2004l/var/log/auth.log
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# q[Kawk ''{'}'g}'s}'u}'b}'(}')}'/)}'\)}'{)}'})}'[1P)}'[1P)}'[)}'])}'.])}'*])}'/])}'[1P])}'\])}'[C/)}'<)}'[1P)}',)}' )}'")}'")}',)}' )}'$)}'5)}'[C;}' }'p}'r}'i}'n}'t}' }'$}'5}'[C[C'[K ""$"A"U"T"H"_"L"O"G"[C ?[K/[K\[K| sort \[K|u niq
[?2004l:
701
704
709
714
716
720
762
766
769
937
added
auth
authentication
closed
conversation
disconnect
from
group:
login
of
password
publickey
session
user
user:
'user1'
user1)
'user2'
user2)
'user3'
user3)
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |u[27m[7mn[27m[7miq [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C); print $5}' "$AUTH_LOG" | sort |uni[1Pq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C3); print $5}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uni[1Pq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C4}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uni[1Pq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C3}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004lchage:
chfn:
CRON:
gpasswd:
groupadd:
nologin:
passwd:
(sd-pam):
sshd:
su:
sudo:
(systemd):
systemd-logind:
useradd:
usermod:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# сфе[K[K[Ktail -5 [7m$AUTH_LOG[27m$AUTH_LOG
[?2004l2025-10-20T14:35:23.637560+00:00 eltex-practice2-pg1-v9 sudo: pam_unix(sudo:session): session closed for user root
2025-10-20T14:45:01.257611+00:00 eltex-practice2-pg1-v9 CRON[50093]: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:45:01.264114+00:00 eltex-practice2-pg1-v9 CRON[50093]: pam_unix(cron:session): session closed for user root
2025-10-20T14:55:01.262264+00:00 eltex-practice2-pg1-v9 CRON[50119]: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
2025-10-20T14:55:01.509797+00:00 eltex-practice2-pg1-v9 CRON[50119]: pam_unix(cron:session): session closed for user root
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7m'{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C'{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq[1@ [1P

[K[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1@ $}' "$AUTH_LOG" | sort |uniq [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C5}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C }' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C$}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C6}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C, $6}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C, $5, $6}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004l-bash: {gsub(/\[.*\]/, "", $3); print $3, $5, $6}: No such file or directory
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk [7m'{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |u[27m[7mn[27m[7miq [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C'{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
[A
[?2004lchage:
chfn:
CRON:
gpasswd:
groupadd:
nologin:
passwd:
(sd-pam):
sshd:
su:
sudo:
(systemd):
systemd-logind:
useradd:
usermod:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk[27mawk [7m'{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" |[27m[7m [27m[7msort |uniq [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C'{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
[A
[?2004lchage: password expiry
chfn: user 'user2'
chfn: user 'user3'
CRON: session closed
CRON: session opened
gpasswd: of group
groupadd: added to
groupadd: group: name=devops,
groupadd: group: name=user2,
groupadd: group: name=user3,
nologin: login by
passwd: password changed
(sd-pam): session closed
sshd: authentication failure;
sshd: closed by
sshd: disconnect from
sshd: from user
sshd: password for
sshd: publickey for
sshd: session closed
sshd: session opened
sudo: auth could
sudo: : command
sudo: conversation failed
sudo: session closed
sudo: session opened
sudo: : TTY=pts/0
sudo: : user
su: session closed
su: session opened
su: user1) root
su: user2) root
su: user3) root
systemd-logind: 701 logged
systemd-logind: 704 logged
systemd-logind: 709 logged
systemd-logind: 714 logged
systemd-logind: 716 logged
systemd-logind: 720 logged
systemd-logind: 762 logged
systemd-logind: 766 logged
systemd-logind: 769 logged
systemd-logind: 937 logged
systemd-logind: session 701
systemd-logind: session 701.
systemd-logind: session 704
systemd-logind: session 704.
systemd-logind: session 709
systemd-logind: session 709.
systemd-logind: session 714
systemd-logind: session 714.
systemd-logind: session 716
systemd-logind: session 716.
systemd-logind: session 720
systemd-logind: session 720.
systemd-logind: session 762
systemd-logind: session 762.
systemd-logind: session 766
systemd-logind: session 766.
systemd-logind: session 769
systemd-logind: session 769.
systemd-logind: session 937
systemd-logind: session 937.
systemd-logind: session 939
(systemd): session opened
useradd: group: name=user1,
useradd: user: name=user1,
useradd: user: name=user2,
useradd: user: name=user3,
usermod: 'user1' to
usermod: 'user2' to
usermod: 'user3' to
usermod: user 'user3'
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" |[27m[7m [27m[7msort |uniq [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | s[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | so[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sor[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort[1P |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort [1P|uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |[1Puniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |u[1Pniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |un[1Piq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uni[1Pq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uniq [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cы}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cг}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cи}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cы}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cе}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cк}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort [1P|uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |[1Puniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |u[1Pniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |un[1Piq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uni[1Pq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |uniq [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cs}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cu}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cb}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cs}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ct}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cr}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C(}' "$AUTH_LOG" | sort |uniq[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C)}' "$AUTH_LOG" | so[1@r[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C$)}' "$AUTH_LOG" | s[1@o[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C0)}' "$AUTH_LOG" | [1@s[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C?)}' "$AUTH_LOG" |[1@ [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C)}' "$AUTH_LOG" | [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C/)}' "$AUTH_LOG" |[1@ [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C)}' "$AUTH_LOG" | [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C,)}' "$AUTH_LOG" |[1@ [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C )}' "$AUTH_LOG" [1@|[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ci)}' "$AUTH_LOG"[1@ [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cn)}' "$AUTH_LOG[1@"[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cd)}' "$AUTH_LO[1@G[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ce)}' "$AUTH_L[1@O[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cx)}' "$AUTH_[1@L[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C()}' "$AUTH[1@_[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C)}' "$AUT[1@H[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C$))}' "$AU[1@T[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C0))}' "$A[1@U[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C?))}' "$[1@A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C))}' "$A[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C,))}' "$[1@A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C$))}' "[1@$[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C3))}' [1@"[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004lchage: changed password expiry for user1
chage: changed password expiry for user2
chage: changed password expiry for user3
chfn: changed user 'user2' information
chfn: changed user 'user3' information
CRON: pam_unix(cron:session): session closed for user root
CRON: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
gpasswd: members of group users set by root to user2
gpasswd: members of group users set by root to user2,user3
groupadd: group added to /etc/group: name=devops, GID=1004
groupadd: group added to /etc/group: name=user2, GID=1002
groupadd: group added to /etc/group: name=user3, GID=1003
groupadd: group added to /etc/gshadow: name=devops
groupadd: group added to /etc/gshadow: name=user2
groupadd: group added to /etc/gshadow: name=user3
groupadd: new group: name=devops, GID=1004
groupadd: new group: name=user2, GID=1002
groupadd: new group: name=user3, GID=1003
nologin: Attempted login by root (UID: 1003) on /dev/pts/0
passwd: pam_unix(passwd:chauthtok): password changed for user1
passwd: pam_unix(passwd:chauthtok): password changed for user2
passwd: pam_unix(passwd:chauthtok): password changed for user3
(sd-pam): pam_unix(systemd-user:session): session closed for user root
sshd: Accepted password for root from 172.16.8.4 port 32860 ssh2
sshd: Accepted password for root from 172.16.8.4 port 46902 ssh2
sshd: Accepted publickey for root from 172.16.8.4 port 36260 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 37898 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 37924 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 39330 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
sshd: Accepted publickey for root from 172.16.8.4 port 47670 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 53168 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 53768 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 55970 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
sshd: Accepted publickey for root from 172.16.8.4 port 56676 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Connection closed by 172.16.9.183 port 55374 [preauth]
sshd: Connection closed by authenticating user root 172.16.8.4 port 32840 [preauth]
sshd: Connection closed by authenticating user root 172.16.8.4 port 32856 [preauth]
sshd: Connection closed by authenticating user root 172.16.9.183 port 42952 [preauth]
sshd: Disconnected from user root 172.16.8.4 port 32860
sshd: Disconnected from user root 172.16.8.4 port 36260
sshd: Disconnected from user root 172.16.8.4 port 37898
sshd: Disconnected from user root 172.16.8.4 port 37924
sshd: Disconnected from user root 172.16.8.4 port 39330
sshd: Disconnected from user root 172.16.8.4 port 46902
sshd: Disconnected from user root 172.16.8.4 port 53168
sshd: Disconnected from user root 172.16.8.4 port 53768
sshd: Disconnected from user root 172.16.8.4 port 55970
sshd: Disconnected from user root 172.16.8.4 port 56676
sshd: Failed password for root from 172.16.9.183 port 42952 ssh2
sshd: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=172.16.9.183 user=root
sshd: pam_unix(sshd:session): session closed for user root
sshd: pam_unix(sshd:session): session opened for user root(uid=0) by root(uid=0)
sshd: Received disconnect from 172.16.8.4 port 32860:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 36260:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 37898:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 37924:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 39330:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 46902:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 53168:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 53768:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 55970:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 56676:11: disconnected by user
sudo: pam_unix(sudo:auth): auth could not identify password for [user1]
sudo: pam_unix(sudo:auth): auth could not identify password for [user2]
sudo: pam_unix(sudo:auth): conversation failed
sudo: pam_unix(sudo:session): session closed for user root
sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=1001)
sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -q -S '-20 seconds'
sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -S '-20 seconds'
sudo:    user1 : TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user1 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user2 : command not allowed ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user2 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
su: pam_unix(su-l:session): session closed for user user1
su: pam_unix(su-l:session): session closed for user user2
su: pam_unix(su-l:session): session closed for user user3
su: pam_unix(su-l:session): session opened for user user1(uid=1001) by root(uid=0)
su: pam_unix(su-l:session): session opened for user user2(uid=1002) by root(uid=0)
su: pam_unix(su-l:session): session opened for user user3(uid=1003) by root(uid=0)
su: pam_unix(su:session): session closed for user user3
su: pam_unix(su:session): session opened for user user3(uid=1003) by root(uid=0)
su: (to user1) root on pts/0
su: (to user2) root on pts/0
su: (to user3) root on pts/0
systemd-logind: New session 701 of user root.
systemd-logind: New session 704 of user root.
systemd-logind: New session 709 of user root.
systemd-logind: New session 714 of user root.
systemd-logind: New session 716 of user root.
systemd-logind: New session 720 of user root.
systemd-logind: New session 762 of user root.
systemd-logind: New session 766 of user root.
systemd-logind: New session 769 of user root.
systemd-logind: New session 937 of user root.
systemd-logind: New session 939 of user root.
systemd-logind: Removed session 701.
systemd-logind: Removed session 704.
systemd-logind: Removed session 709.
systemd-logind: Removed session 714.
systemd-logind: Removed session 716.
systemd-logind: Removed session 720.
systemd-logind: Removed session 762.
systemd-logind: Removed session 766.
systemd-logind: Removed session 769.
systemd-logind: Removed session 937.
systemd-logind: Session 701 logged out. Waiting for processes to exit.
systemd-logind: Session 704 logged out. Waiting for processes to exit.
systemd-logind: Session 709 logged out. Waiting for processes to exit.
systemd-logind: Session 714 logged out. Waiting for processes to exit.
systemd-logind: Session 716 logged out. Waiting for processes to exit.
systemd-logind: Session 720 logged out. Waiting for processes to exit.
systemd-logind: Session 762 logged out. Waiting for processes to exit.
systemd-logind: Session 766 logged out. Waiting for processes to exit.
systemd-logind: Session 769 logged out. Waiting for processes to exit.
systemd-logind: Session 937 logged out. Waiting for processes to exit.
(systemd): pam_unix(systemd-user:session): session opened for user root(uid=0) by root(uid=0)
useradd: new group: name=user1, GID=1001
useradd: new user: name=user1, UID=1001, GID=1001, home=/home/user1, shell=/bin/bash, from=/dev/pts/0
useradd: new user: name=user2, UID=1002, GID=1002, home=/home/user2, shell=/bin/bash, from=/dev/pts/0
useradd: new user: name=user3, UID=1003, GID=1003, home=/home/user3, shell=/bin/bash, from=/dev/pts/0
usermod: add 'user1' to group 'devops'
usermod: add 'user1' to shadow group 'devops'
usermod: add 'user2' to group 'devops'
usermod: add 'user2' to shadow group 'devops'
usermod: add 'user3' to group 'devops'
usermod: add 'user3' to shadow group 'devops'
usermod: change user 'user3' shell from '/bin/bash' to '/usr/sbin/nologin'
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# rc[K[Kecho ""D"j"n"[1P"[1P"[1P"В"о"т" "т"е"п"е"р"ь" "п"р"а"в"и"л"ь"н"о"
[?2004lВот теперь правильно
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# рш[K[Khistory
[?2004l    1  exit
    2  export MYUSER="eltex-pg1-v9"
    3  echo $MYUSER
    4  script -a practice2_${MYUSER}_part1.log
    5  rm practice2_${MYUSER}_part1.log
    6  cat practice2_${MYUSER}_part1.log
    7  cat practice2_eltex-pg1-v9_part1.log
    8  exit
    9  whoami
   10  cat ~/.ssh/authorized_keys
   11  ls -l ~/.ssh/authorized_keys
   12  echo "Содержимое одинаковое, права доступа различаются"
   13  useradd -m -s /bin/bash user1
   14  passwd user1
   15  adduser user2
   16  adduser user3
   17  man usermod
   18  usermod -s /usr/sbin/nologin user3
   19  su - user3
   20  su -s /bin/bash user3
   21  groupadd sharegroup
   22  usermod -aG sharegroup user1
   23  usermod -aG sharegroup user2
   24  usermod -aG sharegroup user3
   25  groups user1 user2 user3
   26  mkdir -p /opt/share
   27  chgrp sharegroup /opt/share
   28  chmod u=rwx,g=rwx,o=,g+s /opt/share
   29  ls -ls /opt/share
   30  ls -ld /opt/share
   31  echo "umask 027" >> /home/user1/.bashrc
   32  su - user1 -c "touch /opt/share/file_user1"
   33  su - user2 -c "touch /opt/share/file_user2"
   34  su - user3 -c "touch /opt/share/file_user3"
   35  grep user3 /etc/passwd
   36  su - user3 -s /bin/bash -c "touch /opt/share/file_user3"
   37  su - user1 -c "rm /opt/share/file_user2"
   38  chmod +t /opt/share
   39  ls -ld /opt/share
   40  su - user1 -c "rm /opt/share/file_user3"
   41  su - user1 -c "dmesg"
   42  visudo
   43  cat > /usr/local/bin/dmesg_user2 << 'EOF'
   44  #!/bin/bash
   45  /usr/bin/dmesg
   46  EOF
   47  chmod 755 /usr/local/bin/dmesg_user2
   48  chown root:root /usr/local/bin/dmesg_user2
   49  chmod u+s /usr/local/bin/dmesg_user2
   50  ls -l /usr/local/bin/dmesg_user2
   51  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   52  su - user2 -c "dmesg | head -3"
   53  exit
   54  history
   55  ls -l /usr/local/bin/dmesg_user1
   56  less /usr/local/bin/dmesg_user2
   57  which sudo
   58  sudo --version
   59  visudo
   60  echo "user1 ALL=(ALL) /usr/bin/dmesg" >> /etc/sudoers.d/user1
   61  su - user1 -c "sudo dmesg | head -3"
   62  u1pass123
   63  rm -f /etc/sudoers.d/user1
   64  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" >> /etc/sudoers.d/user1
   65  cat /etc/sudoers.d/user1
   66  su - user1 -c "sudo dmesg | head -3"
   67  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   68  ls -l /usr/local/bin/dmesg_user2
   69  cat /usr/local/bin/dmesg_user2
   70  su - user3 -s /bin/bash -c "ls -la /opt/share/"
   71  ls -l /usr/bin/dmesg
   72  sudo -l -U user1 2>/dev/null
   73  sudo -l -U user3 2>/dev/null
   74  ls -ld /opt/share
   75  su - user2 -c "sudo dmesg | head -3"
   76  su - user2 -c "/usr/local/bin/dmesg_user2 | head -1"
   77  ls -l /usr/local/bin/dmesg_bash.sh
   78  ls -l /usr/local/bin/dmesg_user2
   79  ls -ls /usr/local/bin/dmesg_user2
   80  visudo
   81  echo "Я пыталась...С user1 через sudo работает, а вот для user2 через скрипт с установленным флагом SUID - нет :( хотя s вместо x есть. "
   82  su - user1 -c "sudo dmesg | head -3"
   83  cat /etc/sudoers.d/user1
   84  cat /etc/sudoers.d/
   85  cat /etc/sudoers.d
   86  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   87  chage -M 10 user1
   88  chage -M 10 user2
   89  chage -M 10 user3
   90  chage -l user1
   91  echo "Варвара Емелюшкина" >> /etc/motd
   92  cat  /etc/motd
   93  rsynk -av /etc/ /root/etc_backup/
   94  rsynс -av /etc/ /root/etc_backup/
   95  rсynс -av /etc/ /root/etc_backup/
   96  rsync -av /etc/ /root/etc_backup/
   97  cd /root
   98  tar -czf etc_backup.tar.gz etc_backup/
   99  tar -cjf etc_backup.tar.bz2 etc_backup/
  100  file etc_backup_bzip2.tar.bz2
  101  ls -la /root/etc_backup/
  102  whoami
  103  rm -f /root/etc_backup_bzip2.tar.bz2
  104  ls -la /root/etc_backup*.bz2
  105  ls -la etc_backup*.bz2
  106  find /root -name "etc_backup*.bz2" -size 0c -delete
  107  ls -la etc_backup*.bz2
  108  ls -ln etc_backup*.bz2
  109  ls -la etc_backup*.bz2
  110  which bzip2
  111  ls -la etc_backup/
  112  ls -la | grep etc_backup
  113  tar -cjf etc_backup.tar.bz2 etc_backup/
  114  apt update
  115  tar -cjf etc_backup.tar.bz2 etc_backup/
  116  history
  117  rm -f tar -cjf etc_backup.tar.bz2 etc_backup/
  118  rm -f /root/etc_backup.tar.bz2 
  119  history
  120  ls -la | grep etc_backup
  121  apt install bzip2 p7zip-full -y
  122  history
  123  tar -cjf etc_backup.tar.bz2 etc_backup/
  124  7z a etc_backup.7z etc_backup/
  125  history
  126  ls -la | grep etc_backup
  127  ls -lh etc_backup.*
  128  cat practice2_eltex-pg1-v9_part1.log
  129  exit
  130  pkill script
  131  exit
  132  userdel -r user1
  133  id user1 user2 user3 2>/dev/null
  134  userdel -r user2  
  135  userdel -r user3
  136  id user1 user2 user3 2>/dev/null
  137  id user1 user2 user3 2>/dev/null || echo "Пользователи удалены"
  138  getent group sharegroup
  139  groupdel sharegroup
  140  getent group sharegroup
  141  rm -rf /opt/share
  142  rm -f /usr/local/bin/dmesg_user2
  143  rm -f /usr/local/bin/dmesg_bash.sh
  144  rm -rf /root/etc_backup*
  145  rm -f /root/etc_backup*.tar.*
  146  rm -f /root/etc_backup.7z
  147  rm -f /tmp/dmesg_wrapper.c
  148  rm -f /tmp/test_script.sh
  149  chmod 0755 /usr/bin/dmesg 2>/dev/null
  150  rm -f /etc/sudoers.d/user1
  151  echo "" > /etc/motd
  152  setcap -r /usr/bin/dmesg 2>/dev/null
  153  cd /home/eltex-pg1-v9
  154  whoami
  155  rm -f practice2_eltex-pg1-v9_part1.log
  156  getent passwd | grep -E "user1|user2|user3"
  157  getent passwd | grep -E "user1|user2|user3" || echo "Нет пользователей user*"
  158  getent group | grep sharegroup || echo "Нет группы sharegroup"
  159  ls -ld /opt/share 2>/dev/null || echo "Каталог /opt/share не существует"
  160  ls -l /usr/local/bin/dmesg_user2 /usr/local/bin/dmesg_bash.sh 2>/dev/null || echo "SUID скриптов нет"
  161  ls -la /root/etc_backup* 2>/dev/null || echo "Архивов нет"
  162  find /home/eltex-pg1-v9 -name "*.log" -type f 2>/dev/null
  163  ls -lh practice2_eltex-pg1-v9_part1.log
  164  exit
  165  whoami
  166  ls
  167  whoami
  168  ls -la
  169  find / -name "*practice2*" 2>/dev/null | head -20
  170  pwd
  171  find ~ -name "practice2_*.log" 2>/dev/null
  172  find / -name "practice2_eltex-pg1-v9_part1.log" 2>/dev/null
  173  ps aux | grep script
  174  rm practice2_eltex-pg1-v9_part1.log
  175  exit
  176  cat ~/.ssh/authorized_keys
  177  ls -la ~/.ssh/
  178  ls -la ~/.ssh/authorized_keys
  179  ls
  180  ls -la
  181  ssh root@172.16.9.183  "rm -f ~/.ssh/authorized_keys"
  182  id user1 user2 user3 2>/dev/null
  183  ls -ld /opt/share 2>/dev/null
  184  ls /etc/motd 
  185  ls -la /etc/motd 
  186  pkill -f script
  187  cd ~
  188  rm -f practice2_*.log clean.log
  189  ls -la practice2_*.log 2>/dev/null
  190  ls -la practice2_*.log 2>/dev/null || echo " Старые логи удалены"
  191  exit
  192  ssh root@172.16.9.183 "sed -i '/eltex-pg1-v9@server1/d' ~/.ssh/authorized_keys"
  193  exit
  194  cat /root/.ssh/authorized_keys
  195  ls -la /root/.ssh/authorized_keys
  196  exit
  197  useradd -m -s /bin/bash user1
  198  passwd user1
  199  adduser user2
  200  adduser user3
  201  usermod -s /usr/sbin/nologin user3
  202  su - user3
  203  su -s /bin/bash user3
  204  whoami
  205  groupadd devops
  206  usermod -aG devops user1
  207  usermod -aG devops user2
  208  usermod -aG devops user3
  209  groups user1
  210  groups user2
  211  groups user3
  212  mkdir -p /opt/share
  213  chown root:devops /opt/share
  214  chmod g+rwxsm /opt/share
  215  chmod g+rwxs /opt/share
  216  su - user1
  217  su - user1 -c "touch /opt/share/file_user1.txt"
  218  su - user2 -c "touch /opt/share/file_user2.txt"
  219  ls -la /opt/share
  220  su - user2 -c "rm /opt/share/file_user1.txt"
  221  echo "получилось удалить чужой файл"
  222  "сейчас мы это исправим"
  223  chmod +t /opt/share
  224  ls -ld /opt/share
  225  echo "исправили, проверяем"
  226  su - user2 -c "rm /opt/share/file_user1.txt"
  227  echo "получилось!"
  228  su - user1 -c "sudo dmesg"
  229  visudo
  230  su - user1 -c "sudo dmesg | head -5"
  231  visudo
  232  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" > /etc/sudoers.d/user1
  233  chmod 440 /etc/sudoers.d/user1
  234  su - user -c "sudo -1"
  235  su - user1 -c "sudo -1"
  236  su - user1 -c "sudo -l"
  237  su - user1 -c "sudo dmesg | head -5"
  238  echo "Ура, работает"
  239  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  240  #!/bin/bash
  241  /usr/bin/dmesg
  242  EOF
  243  chmod +x /usr/local/bin/dmesg_user2.sh
  244  chown root:root /usr/local/bin/dmesg_user2.sh
  245  chmod u+s /usr/local/bin/dmesg_user2.sh
  246  su - user2 -c "sudo dmesg | head -5"
  247  echo "Не сработало, время экспериментов"
  248  chmod 440 /etc/sudoers.d/user2_script
  249  chmod +x /usr/local/bin/dmesg_user2.sh
  250  su - user2 -c "sudo dmesg | head -5"
  251  ls /usr/local/bin/dmesg_user2.sh
  252  la -la /usr/local/bin/dmesg_user2.sh
  253  rm dmesg_user2.sh
  254  rm /usr/local/bin/dmesg_user2.sh
  255  ls -la /usr/local/bin/dmesg_user2.sh
  256  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  257  #!/bin/bash
  258  if [ "$(whoami)" != "root" ]; then
  259  sudo /usr/bin/dmesg "$@"
  260  else
  261  /usr/bin/dmesg "$@"
  262  fi
  263  EOF
  264  echo "user2 ALL=(ALL) NOPASSWD: /usr/local/bin/dmesg_user2.sh" > /etc/sudoers.d/user2_script
  265  chmod 440 /etc/sudoers.d/user2_script
  266  echo "Устала думать, оставлю так :("
  267  chage -M 10 user1
  268  chage -M 10 user2
  269  chage -M 10 user3
  270  chage -l user1
  271  echo "пароли  теперь живут 10 дней"
  272  ls -la /etc/motd
  273  cat /etc/motd
  274  echo "Варвара Емелюшкина" > /etc/motd
  275  cat /etc/motd
  276  rsync -av /etc/ /root/etc_backup/
  277  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  278  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  279  7z a /root/etc_backup.7z /root/etc_backup
  280  ls -ln /root/etc_backup.tar.* /root/etc_backup.7z
  281  echo "bzip2 показал наилучшее сжатие; 7z оказался наименее эффективным"
  282  cat /etc/motd
  283  echo "$(date)" >> /etc/motd
  284  car /etc/motd
  285  cat /etc/motd
  286  rsync -av /etc/ /root/etc_backup/
  287  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  288  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  289  history
  290  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  291  history
  292  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) \ <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  293  echo "пыталась красиво, вышло как всега. ладно, тогда посмотрим проще"
  294  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  295  echo "$(find /root/etc_backup -type f | wc -l)"
  296  echo "кто-то потерялся..."
  297  tar -xzf /root/etc_backup.tar.gz -C /root/
  298  mv /root/etc_backup /root/etc_backup_gzip
  299  7z x /root/etc_backup.7z -o/root/
  300  mv /root/root/etc_backup /root/etc_backup_7zip
  301  ls -la /root/
  302  rm -rf /root/etc_backup* /root/root/
  303  7z x /root/etc_backup.7z -o/root/
  304  ls -la /root/etc_backup*.*
  305  ls -la /root/*.tar.* /root/*.7z /root/*.zip
  306  ls -la etc_backup.7z
  307  ls -la /root/
  308  history
  309  rsync -av /etc/ /root/etc_backup/
  310  history
  311  7z a /root/etc_backup.7z /root/etc_backup/
  312  history
  313  tar -xzf /root/etc_backup.tar.gz -C /root/
  314  mv /root/etc_backup /root/etc_backup_gzip
  315  7z x /root/etc_backup.7z -o/root/
  316  mv /root/root/etc_backup /root/etc_backup_7zip
  317  find /root -type d -name "etc_backup" | grep -v gzip
  318  mv /root/etc_backup /root/etc_backup_7zip
  319  ls -la
  320  diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/etc/motd
  321  ls -la /etc/motd
  322  cat /etc/motd
  323  rsync -av /etc/ /root/etc_backup/
  324  cat /etc/motd
  325  history
  326  find /root/etc_backup_gzip -name "motd"
  327  find /root/etc_backup_7zip -name "motd"
  328  ls -la /root/etc_backup_7zip/etc/ 
  329  ls -la /root/etc_backup_gzip/etc/motd
  330  ls -la /root/etc_backup_gzip/
  331  ls -la /root/etc_backup/
  332  echo "проверка лога"
  333  history
  334  echo "проверка лога"
  335  sync
  336  ps aux |grep script
  337  tail -f practice2_eltex-pg1-v9_part1.log
  338  whoami
  339  exit
  340  echo "проверка"
  341  exit
  342  ls -la /root/etc_backup/
  343  ls -la /root/etc_backup_gzip/etc/motd/
  344  ls -la
  345  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  346  ls -ln /root/etc_backup.tar.bz2
  347  ls -ln /root/etc_backup
  348  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  349  echo "$(find /root/etc_backup -type f | wc -l)"
  350  tar -tf /root/etc_backup.tar.bz2 | wc -l
  351  find /root/etc_backup -type f | wc -l
  352  find /toot/etc_backup -type f -name ".*" | wc -l
  353  find /root/etc_backup -type f -name ".*" | wc -l
  354  rm -f /root/etc_backup.tar.*
  355  ls -la
  356  rm -f /root/etc_backup.tar.
  357  ls -la
  358  find /root/etc_backup -type f -name ".*" | wc -l
  359  rm -rf /root/etc_backup* /root/etc_backup_*
  360  ls -la
  361  ls -la /root/ | grep backup
  362  rsync -av /etc/ /root/etc_backup/
  363  ls -la /root/etc_backup/ | head -10
  364  ls -la /root/etc_backup/motd
  365  cat /root/etc_backup/motd
  366  rsync -av /etc/ /root/etc_backup/
  367  history
  368  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  369  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  370  7z a /root/etc_backup.7z /root/etc_backup/
  371  echo "$(find /root/etc_backup -type f | wc -l)"
  372  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  373  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  374  history
  375  echo "кажется я поняла где я косячу"
  376  rm -f /root/etc_backup.tar.* /root/etc_backup.7z
  377  ls -la
  378  rm etc_backup
  379  rm -rf /root/etc_backup* /root/etc_backup_*
  380  ls -la
  381  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  382  rsync -av /etc/ /root/etc_backup/
  383  ls -la
  384  rm etc_backup.tar.gz
  385  ls -la
  386  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  387  tar -cjf /root/etc_backup.tar.bz2 -C /root/etc_backup .
  388  history
  389  echo "$(find /root/etc_backup -type f | wc -l)"
  390  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  391  echo "$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  392  tar -tf /root/etc_backup.tar.gz | head -10
  393  7z a /root/etc_backup.7z /root/etc_backup/ 
  394  find /root/etc_backup -type f -name ".*" | wc -l
  395  find /root/etc_backup -type f | wc -l
  396  ls -la /root/etc_backup/
  397  ls -la
  398  mkdir -p /root/etc_backup_gzip
  399  tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip
  400  7z x /root/etc_backup.7z -o/root/etc_backup_7zip
  401  ls -la /root/etc_backup_*/
  402  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/motd
  403  history
  404  rm -rf /root/etc_backup_7zip
  405  7z x /root/etc_backup.7z -o/root/etc_backup_7zip -y
  406  ls -la /root/etc_backup_gzip/motd
  407  ls -la /root/etc_backup_7zip/motd
  408  7z l /root/etc_backup.7z | head -20
  409  7z l /root/etc_backup.7z | grep -A 10 "Path"
  410  find /root/etc_backup_7zip -name "motd" -type f
  411  ls -la /root/etc_backup_gzip/motd
  412  ls -la /root/etc_backup_7zip/etc_backup/motd
  413  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/etc_backup/motd
  414  ls -la
  415  echo "теперь все верно"
  416  echo "конец раздела 1"
  417  exit
  418  sudo journalctl -b -S "-20 seconds" | head -20
  419  journalctl -b -q -S "-20 seconds" 2>/dev/null | head -20
  420  sudo journalctl -b -S "-20 seconds" | head -20
  421  journalctl -b -S "-20 seconds" | head -20
  422  whoami
  423  sudo journalctl -b -S "-20 seconds" | head -20
  424  sudo journalctl -b -S "-20 seconds"
  425  exit
  426  sudo jourmalctl -b -q -S "-20 seconds" 
  427  sudo journalctl -b -q -S "-20 seconds"
  428  find -name "auth.log*"
  429  find /var/log -name "auth.log*"
  430  tail -20 /var/log/auth.log
  431  find /var/log -name "auth.log*" | -1
  432  find /var/log -name "auth.log*" | head -1
  433  AUTH_LOG="find /var/log -name "auth.log*" | head -1"
  434  echo $AUTH_LOG
  435  rm AUTH_LOG
  436  AUTH_LOG= find /var/log -name "auth.log*" | head -1
  437  echo $AUTH_LOG
  438  AUTH_LOG="/var/log/auth.log"
  439  echo $AUTH_LOG
  440  AUTH_LOG=$(find /var/log -name "auth.log*" | head -1)
  441  echo $AUTH_LOG
  442  awk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq
  443  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  444  tail -5 $AUTH_LOG
  445  '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  446  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  447  awk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  448  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq
  449  echo "Вот теперь правильно"
  450  history
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}'[27m[7m [27m[7m"$AUTH_LOG" | sort |uniq [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq -c \ |[1P[1@ [C[1@ [C[C[C[C[C[C[C[C[C
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K| sort -nr |[K[K | w[Kawk ''{'}'p}'r}'i}'n}'t}' }'$}'1}' }'"}' }'"}' }'$}'2}'
[?2004l283 CRON:
283 CRON:
11 (systemd):
11 sshd:
10 sshd:
9 su:
9 su:
9 su:
7 su:
7 su:
7 su:
7 sudo:
6 sudo:
5 sudo:
4 sudo:
4 sudo:
3 sudo:
3 sudo:
2 su:
1 usermod:
1 usermod:
1 usermod:
1 usermod:
1 usermod:
1 usermod:
1 usermod:
1 useradd:
1 useradd:
1 useradd:
1 useradd:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 systemd-logind:
1 su:
1 su:
1 su:
1 su:
1 sudo:
1 sudo:
1 sudo:
1 sudo:
1 sudo:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 sshd:
1 (sd-pam):
1 passwd:
1 passwd:
1 passwd:
1 nologin:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 groupadd:
1 gpasswd:
1 gpasswd:
1 chfn:
1 chfn:
1 chage:
1 chage:
1 chage:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7m'{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$A[27m[7mU[27m[7mTH_LOG" | sort | uniq -c[27m[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
[?2004l-bash: {gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}: No such file or directory
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk [7m'{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}'[27m[7m [27m[7m"$AUTH_LOG" | sort | uniq -c [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C'{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
[A
[?2004l      1 chage: changed password expiry for user1
      1 chage: changed password expiry for user2
      1 chage: changed password expiry for user3
      1 chfn: changed user 'user2' information
      1 chfn: changed user 'user3' information
    283 CRON: pam_unix(cron:session): session closed for user root
    283 CRON: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
      1 gpasswd: members of group users set by root to user2
      1 gpasswd: members of group users set by root to user2,user3
      1 groupadd: group added to /etc/group: name=devops, GID=1004
      1 groupadd: group added to /etc/group: name=user2, GID=1002
      1 groupadd: group added to /etc/group: name=user3, GID=1003
      1 groupadd: group added to /etc/gshadow: name=devops
      1 groupadd: group added to /etc/gshadow: name=user2
      1 groupadd: group added to /etc/gshadow: name=user3
      1 groupadd: new group: name=devops, GID=1004
      1 groupadd: new group: name=user2, GID=1002
      1 groupadd: new group: name=user3, GID=1003
      1 nologin: Attempted login by root (UID: 1003) on /dev/pts/0
      1 passwd: pam_unix(passwd:chauthtok): password changed for user1
      1 passwd: pam_unix(passwd:chauthtok): password changed for user2
      1 passwd: pam_unix(passwd:chauthtok): password changed for user3
      1 (sd-pam): pam_unix(systemd-user:session): session closed for user root
      1 sshd: Accepted password for root from 172.16.8.4 port 32860 ssh2
      1 sshd: Accepted password for root from 172.16.8.4 port 46902 ssh2
      1 sshd: Accepted publickey for root from 172.16.8.4 port 36260 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 37898 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 37924 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 39330 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
      1 sshd: Accepted publickey for root from 172.16.8.4 port 47670 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 53168 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 53768 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Accepted publickey for root from 172.16.8.4 port 55970 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
      1 sshd: Accepted publickey for root from 172.16.8.4 port 56676 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
      1 sshd: Connection closed by 172.16.9.183 port 55374 [preauth]
      1 sshd: Connection closed by authenticating user root 172.16.8.4 port 32840 [preauth]
      1 sshd: Connection closed by authenticating user root 172.16.8.4 port 32856 [preauth]
      1 sshd: Connection closed by authenticating user root 172.16.9.183 port 42952 [preauth]
      1 sshd: Disconnected from user root 172.16.8.4 port 32860
      1 sshd: Disconnected from user root 172.16.8.4 port 36260
      1 sshd: Disconnected from user root 172.16.8.4 port 37898
      1 sshd: Disconnected from user root 172.16.8.4 port 37924
      1 sshd: Disconnected from user root 172.16.8.4 port 39330
      1 sshd: Disconnected from user root 172.16.8.4 port 46902
      1 sshd: Disconnected from user root 172.16.8.4 port 53168
      1 sshd: Disconnected from user root 172.16.8.4 port 53768
      1 sshd: Disconnected from user root 172.16.8.4 port 55970
      1 sshd: Disconnected from user root 172.16.8.4 port 56676
      1 sshd: Failed password for root from 172.16.9.183 port 42952 ssh2
      1 sshd: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=172.16.9.183 user=root
     10 sshd: pam_unix(sshd:session): session closed for user root
     11 sshd: pam_unix(sshd:session): session opened for user root(uid=0) by root(uid=0)
      1 sshd: Received disconnect from 172.16.8.4 port 32860:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 36260:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 37898:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 37924:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 39330:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 46902:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 53168:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 53768:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 55970:11: disconnected by user
      1 sshd: Received disconnect from 172.16.8.4 port 56676:11: disconnected by user
      3 sudo: pam_unix(sudo:auth): auth could not identify password for [user1]
      4 sudo: pam_unix(sudo:auth): auth could not identify password for [user2]
      7 sudo: pam_unix(sudo:auth): conversation failed
      6 sudo: pam_unix(sudo:session): session closed for user root
      5 sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
      1 sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=1001)
      1 sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -q -S '-20 seconds'
      4 sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -S '-20 seconds'
      1 sudo:    user1 : TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
      1 sudo:    user1 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
      3 sudo:    user2 : command not allowed ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
      1 sudo:    user2 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
      9 su: pam_unix(su-l:session): session closed for user user1
      7 su: pam_unix(su-l:session): session closed for user user2
      1 su: pam_unix(su-l:session): session closed for user user3
      9 su: pam_unix(su-l:session): session opened for user user1(uid=1001) by root(uid=0)
      7 su: pam_unix(su-l:session): session opened for user user2(uid=1002) by root(uid=0)
      1 su: pam_unix(su-l:session): session opened for user user3(uid=1003) by root(uid=0)
      1 su: pam_unix(su:session): session closed for user user3
      1 su: pam_unix(su:session): session opened for user user3(uid=1003) by root(uid=0)
      9 su: (to user1) root on pts/0
      7 su: (to user2) root on pts/0
      2 su: (to user3) root on pts/0
      1 systemd-logind: New session 701 of user root.
      1 systemd-logind: New session 704 of user root.
      1 systemd-logind: New session 709 of user root.
      1 systemd-logind: New session 714 of user root.
      1 systemd-logind: New session 716 of user root.
      1 systemd-logind: New session 720 of user root.
      1 systemd-logind: New session 762 of user root.
      1 systemd-logind: New session 766 of user root.
      1 systemd-logind: New session 769 of user root.
      1 systemd-logind: New session 937 of user root.
      1 systemd-logind: New session 939 of user root.
      1 systemd-logind: Removed session 701.
      1 systemd-logind: Removed session 704.
      1 systemd-logind: Removed session 709.
      1 systemd-logind: Removed session 714.
      1 systemd-logind: Removed session 716.
      1 systemd-logind: Removed session 720.
      1 systemd-logind: Removed session 762.
      1 systemd-logind: Removed session 766.
      1 systemd-logind: Removed session 769.
      1 systemd-logind: Removed session 937.
      1 systemd-logind: Session 701 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 704 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 709 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 714 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 716 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 720 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 762 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 766 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 769 logged out. Waiting for processes to exit.
      1 systemd-logind: Session 937 logged out. Waiting for processes to exit.
     11 (systemd): pam_unix(systemd-user:session): session opened for user root(uid=0) by root(uid=0)
      1 useradd: new group: name=user1, GID=1001
      1 useradd: new user: name=user1, UID=1001, GID=1001, home=/home/user1, shell=/bin/bash, from=/dev/pts/0
      1 useradd: new user: name=user2, UID=1002, GID=1002, home=/home/user2, shell=/bin/bash, from=/dev/pts/0
      1 useradd: new user: name=user3, UID=1003, GID=1003, home=/home/user3, shell=/bin/bash, from=/dev/pts/0
      1 usermod: add 'user1' to group 'devops'
      1 usermod: add 'user1' to shadow group 'devops'
      1 usermod: add 'user2' to group 'devops'
      1 usermod: add 'user2' to shadow group 'devops'
      1 usermod: add 'user3' to group 'devops'
      1 usermod: add 'user3' to shadow group 'devops'
      1 usermod: change user 'user3' shell from '/bin/bash' to '/usr/sbin/nologin'
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}'[27m[7m [27m[7m"$AUTH_LOG" | sort | uniq [27m[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq 
[?2004lchage: changed password expiry for user1
chage: changed password expiry for user2
chage: changed password expiry for user3
chfn: changed user 'user2' information
chfn: changed user 'user3' information
CRON: pam_unix(cron:session): session closed for user root
CRON: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
gpasswd: members of group users set by root to user2
gpasswd: members of group users set by root to user2,user3
groupadd: group added to /etc/group: name=devops, GID=1004
groupadd: group added to /etc/group: name=user2, GID=1002
groupadd: group added to /etc/group: name=user3, GID=1003
groupadd: group added to /etc/gshadow: name=devops
groupadd: group added to /etc/gshadow: name=user2
groupadd: group added to /etc/gshadow: name=user3
groupadd: new group: name=devops, GID=1004
groupadd: new group: name=user2, GID=1002
groupadd: new group: name=user3, GID=1003
nologin: Attempted login by root (UID: 1003) on /dev/pts/0
passwd: pam_unix(passwd:chauthtok): password changed for user1
passwd: pam_unix(passwd:chauthtok): password changed for user2
passwd: pam_unix(passwd:chauthtok): password changed for user3
(sd-pam): pam_unix(systemd-user:session): session closed for user root
sshd: Accepted password for root from 172.16.8.4 port 32860 ssh2
sshd: Accepted password for root from 172.16.8.4 port 46902 ssh2
sshd: Accepted publickey for root from 172.16.8.4 port 36260 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 37898 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 37924 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 39330 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
sshd: Accepted publickey for root from 172.16.8.4 port 47670 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 53168 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 53768 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Accepted publickey for root from 172.16.8.4 port 55970 ssh2: RSA SHA256:NfQMaJ5tkomo7h6VfgtOLtQ2WQc80RnrtQOyZmyGP10
sshd: Accepted publickey for root from 172.16.8.4 port 56676 ssh2: RSA SHA256:SYQxT547/uajTNlZteVhbHNQgTBAs2eOV3BrGUxB6L0
sshd: Connection closed by 172.16.9.183 port 55374 [preauth]
sshd: Connection closed by authenticating user root 172.16.8.4 port 32840 [preauth]
sshd: Connection closed by authenticating user root 172.16.8.4 port 32856 [preauth]
sshd: Connection closed by authenticating user root 172.16.9.183 port 42952 [preauth]
sshd: Disconnected from user root 172.16.8.4 port 32860
sshd: Disconnected from user root 172.16.8.4 port 36260
sshd: Disconnected from user root 172.16.8.4 port 37898
sshd: Disconnected from user root 172.16.8.4 port 37924
sshd: Disconnected from user root 172.16.8.4 port 39330
sshd: Disconnected from user root 172.16.8.4 port 46902
sshd: Disconnected from user root 172.16.8.4 port 53168
sshd: Disconnected from user root 172.16.8.4 port 53768
sshd: Disconnected from user root 172.16.8.4 port 55970
sshd: Disconnected from user root 172.16.8.4 port 56676
sshd: Failed password for root from 172.16.9.183 port 42952 ssh2
sshd: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=172.16.9.183 user=root
sshd: pam_unix(sshd:session): session closed for user root
sshd: pam_unix(sshd:session): session opened for user root(uid=0) by root(uid=0)
sshd: Received disconnect from 172.16.8.4 port 32860:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 36260:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 37898:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 37924:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 39330:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 46902:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 53168:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 53768:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 55970:11: disconnected by user
sshd: Received disconnect from 172.16.8.4 port 56676:11: disconnected by user
sudo: pam_unix(sudo:auth): auth could not identify password for [user1]
sudo: pam_unix(sudo:auth): auth could not identify password for [user2]
sudo: pam_unix(sudo:auth): conversation failed
sudo: pam_unix(sudo:session): session closed for user root
sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=0)
sudo: pam_unix(sudo:session): session opened for user root(uid=0) by root(uid=1001)
sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -q -S '-20 seconds'
sudo:     root : TTY=pts/0 ; PWD=/root ; USER=root ; COMMAND=/usr/bin/journalctl -b -S '-20 seconds'
sudo:    user1 : TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user1 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user1 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user2 : command not allowed ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
sudo:    user2 : user NOT in sudoers ; TTY=pts/0 ; PWD=/home/user2 ; USER=root ; COMMAND=/usr/bin/dmesg
su: pam_unix(su-l:session): session closed for user user1
su: pam_unix(su-l:session): session closed for user user2
su: pam_unix(su-l:session): session closed for user user3
su: pam_unix(su-l:session): session opened for user user1(uid=1001) by root(uid=0)
su: pam_unix(su-l:session): session opened for user user2(uid=1002) by root(uid=0)
su: pam_unix(su-l:session): session opened for user user3(uid=1003) by root(uid=0)
su: pam_unix(su:session): session closed for user user3
su: pam_unix(su:session): session opened for user user3(uid=1003) by root(uid=0)
su: (to user1) root on pts/0
su: (to user2) root on pts/0
su: (to user3) root on pts/0
systemd-logind: New session 701 of user root.
systemd-logind: New session 704 of user root.
systemd-logind: New session 709 of user root.
systemd-logind: New session 714 of user root.
systemd-logind: New session 716 of user root.
systemd-logind: New session 720 of user root.
systemd-logind: New session 762 of user root.
systemd-logind: New session 766 of user root.
systemd-logind: New session 769 of user root.
systemd-logind: New session 937 of user root.
systemd-logind: New session 939 of user root.
systemd-logind: Removed session 701.
systemd-logind: Removed session 704.
systemd-logind: Removed session 709.
systemd-logind: Removed session 714.
systemd-logind: Removed session 716.
systemd-logind: Removed session 720.
systemd-logind: Removed session 762.
systemd-logind: Removed session 766.
systemd-logind: Removed session 769.
systemd-logind: Removed session 937.
systemd-logind: Session 701 logged out. Waiting for processes to exit.
systemd-logind: Session 704 logged out. Waiting for processes to exit.
systemd-logind: Session 709 logged out. Waiting for processes to exit.
systemd-logind: Session 714 logged out. Waiting for processes to exit.
systemd-logind: Session 716 logged out. Waiting for processes to exit.
systemd-logind: Session 720 logged out. Waiting for processes to exit.
systemd-logind: Session 762 logged out. Waiting for processes to exit.
systemd-logind: Session 766 logged out. Waiting for processes to exit.
systemd-logind: Session 769 logged out. Waiting for processes to exit.
systemd-logind: Session 937 logged out. Waiting for processes to exit.
(systemd): pam_unix(systemd-user:session): session opened for user root(uid=0) by root(uid=0)
useradd: new group: name=user1, GID=1001
useradd: new user: name=user1, UID=1001, GID=1001, home=/home/user1, shell=/bin/bash, from=/dev/pts/0
useradd: new user: name=user2, UID=1002, GID=1002, home=/home/user2, shell=/bin/bash, from=/dev/pts/0
useradd: new user: name=user3, UID=1003, GID=1003, home=/home/user3, shell=/bin/bash, from=/dev/pts/0
usermod: add 'user1' to group 'devops'
usermod: add 'user1' to shadow group 'devops'
usermod: add 'user2' to group 'devops'
usermod: add 'user2' to shadow group 'devops'
usermod: add 'user3' to group 'devops'
usermod: add 'user3' to shadow group 'devops'
usermod: change user 'user3' shell from '/bin/bash' to '/usr/sbin/nologin'
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}'[27m[7m [27m[7m"$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'[27m[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$A[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AU[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUT[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_L[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LO[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG"[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" |[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | s[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | so[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sor[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort |[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | [1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | u[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | un[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | uni[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | uniq[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C }' "$AUTH_LOG" | sort | uni[1@q[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C%}' "$AUTH_LOG" | sort | un[1@i[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C}' "$AUTH_LOG" | sort | uni[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C$}' "$AUTH_LOG" | sort | un[1@i[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C3}' "$AUTH_LOG" | sort | u[1@n[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004l566 CRON:
58 sshd:
54 su:
37 sudo:
31 systemd-logind:
11 (systemd):
9 groupadd:
7 usermod:
4 useradd:
3 passwd:
3 chage:
2 gpasswd:
2 chfn:
1 (sd-pam):
1 nologin:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# echo ""e"h"f" "[1P"[1P"[1P"[1P"у"р"а"," "п"о"л"у"ч"ч"и"л"о"с"ь" "[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[KЭ"[1P"Э"[1P"[C"'"[1P"э"т"о" "ч"и"с"т"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"у"р"а"," "в"[1P"[1P"[1P"[1P"[1P"[1P"в"с"е"," "[1P"[1P"[1P"[1P"[1P"с"у"[1P"[1P"г"о"т"о"в"о"[1P"[1P"[1P"[1P"[1P"[1P"[KЭ"[1P"[C"d"j"n"[1P"[1P"[1P"[C[K[K[K[K[K[K[KЭЭ[K[K""n"[1P"а"[1P"у"р"а"," "[1P"[1P"
[?2004lура: command not found
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# tail -5 a[Ketc/passwd
[?2004ltail: cannot open 'etc/passwd' for reading: No such file or directory
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mtail -5 etc/passwd[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -5 etc/passwd
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kfinf[Kd [7mtail -5 etc/passwd[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -5 etc/passwd
[A
[?2004lfind: unknown predicate `-5'
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mfind tail -5 etc/passwd[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cfind tail -5 etc/passwd[1P etc/passwd[1P etc/passwd[1Petc/passwd[1P etc/passwd[1P etc/passwd[1P etc/passwd[1P etc/passwd[1Petc/passwd
[?2004lfind: ‘etc/passwd’: No such file or directory
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7m find etc/passwd[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C find etc/passwd[C/etc/passwd
[?2004l/etc/passwd
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mtail -5 etc/passwd[27mtail -5 etc/passwd[C[C/etc/passwd
[?2004lsshd:x:109:65534::/run/sshd:/usr/sbin/nologin
tech:x:1000:1000:tech:/home/tech:/bin/bash
user1:x:1001:1001::/home/user1:/bin/bash
user2:x:1002:1002:,,,:/home/user2:/bin/bash
user3:x:1003:1003:,,,:/home/user3:/usr/sbin/nologin
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk ''{'}'$}'1}'p$1}'r$1}'i$1}'n$1}'t$1}' $1}'[C[C[C[C ::[K[K""[7m/etc/passwd[27m"/etc/passwd"
[?2004lroot:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing
irc:x:39:39:ircd:/run/ircd:/usr/sbin/nologin
_apt:x:42:65534::/nonexistent:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-network:x:998:998:systemd
systemd-timesync:x:997:997:systemd
dhcpcd:x:100:65534:DHCP
messagebus:x:101:102::/nonexistent:/usr/sbin/nologin
systemd-resolve:x:992:992:systemd
pollinate:x:102:1::/var/cache/pollinate:/bin/false
polkitd:x:991:991:User
syslog:x:103:104::/nonexistent:/usr/sbin/nologin
uuidd:x:104:105::/run/uuidd:/usr/sbin/nologin
tcpdump:x:105:107::/nonexistent:/usr/sbin/nologin
tss:x:106:108:TPM
landscape:x:107:109::/var/lib/landscape:/usr/sbin/nologin
fwupd-refresh:x:989:989:Firmware
usbmux:x:108:46:usbmux
sshd:x:109:65534::/run/sshd:/usr/sbin/nologin
tech:x:1000:1000:tech:/home/tech:/bin/bash
user1:x:1001:1001::/home/user1:/bin/bash
user2:x:1002:1002:,,,:/home/user2:/bin/bash
user3:x:1003:1003:,,,:/home/user3:/usr/sbin/nologin
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# Е[KTAIL[K[K[K[Ktail -5 /etc/passwd
[?2004lsshd:x:109:65534::/run/sshd:/usr/sbin/nologin
tech:x:1000:1000:tech:/home/tech:/bin/bash
user1:x:1001:1001::/home/user1:/bin/bash
user2:x:1002:1002:,,,:/home/user2:/bin/bash
user3:x:1003:1003:,,,:/home/user3:/usr/sbin/nologin
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk -F: ''$'7' '='=' '"'"'/"'u"'s"'r"'/"'s"'b"'i"'n"'/"'n"'o"'l"'o"'g"'i"'n"'[C '{'}'p}'r}'i}'n}'t}' }'$}'3}' }''}'[1P}'"}',}' }'"}' }'$}'1}' }'"}',}' }'"}' }'$}'4}' [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C '[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C' [K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
 /etc/passwd | sort -t, -k1, -nr[1P -nr
[?2004l65534, nobody, 65534
1003, user3, 1003
998, systemd-network, 998
997, systemd-timesync, 997
992, systemd-resolve, 992
991, polkitd, 991
989, fwupd-refresh, 989
109, sshd, 65534
108, usbmux, 46
107, landscape, 109
105, tcpdump, 107
104, uuidd, 105
103, syslog, 104
101, messagebus, 102
42, _apt, 65534
39, irc, 39
38, list, 38
34, backup, 34
33, www-data, 33
13, proxy, 13
10, uucp, 10
9, news, 9
8, mail, 8
7, lp, 7
6, man, 12
5, games, 60
3, sys, 3
2, bin, 2
1, daemon, 1
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}'[27m[7m [27m[7m/etc/passwd | sort -t, -k1 -nr [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /e[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /et[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /etc[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C/etc/[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /etc/p[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C/etc/pa[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /etc/pas[C[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C /etc/pass[1P[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C", " $4}' [9@/etc/pass
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Atail -5 /etc/passwd[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[Kуе[K[Ketc/group
[?2004ltech:x:1000:
user1:x:1001:
user2:x:1002:
user3:x:1003:
devops:x:1004:user1,user2,user3
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mtail -5 /etc/group[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -5 /etc/group[1P /etc/group[1P /etc/group[1P/etc/group
[?2004lrdma:x:106:
tcpdump:x:107:
tss:x:108:
landscape:x:109:
fwupd-refresh:x:989:
tech:x:1000:
user1:x:1001:
user2:x:1002:
user3:x:1003:
devops:x:1004:user1,user2,user3
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [K]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m [27m[7m/etc/passwd | sort -t, -k1 -nr [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $ /etc/passwd | sort -t, -k1 -nr[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail /etc/group[K
[K
[K[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C-5 /etc/groupawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr[Atail -5 /etc/passwd[K
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '{print $1}' "/etc/passwd"[11Ptail -5 /etc/passwd[4Pfind etc/passwdtail -5 etc/passwd[5P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C"ура"[K[K[K[K[K[Khistory
[?2004l    1  exit
    2  export MYUSER="eltex-pg1-v9"
    3  echo $MYUSER
    4  script -a practice2_${MYUSER}_part1.log
    5  rm practice2_${MYUSER}_part1.log
    6  cat practice2_${MYUSER}_part1.log
    7  cat practice2_eltex-pg1-v9_part1.log
    8  exit
    9  whoami
   10  cat ~/.ssh/authorized_keys
   11  ls -l ~/.ssh/authorized_keys
   12  echo "Содержимое одинаковое, права доступа различаются"
   13  useradd -m -s /bin/bash user1
   14  passwd user1
   15  adduser user2
   16  adduser user3
   17  man usermod
   18  usermod -s /usr/sbin/nologin user3
   19  su - user3
   20  su -s /bin/bash user3
   21  groupadd sharegroup
   22  usermod -aG sharegroup user1
   23  usermod -aG sharegroup user2
   24  usermod -aG sharegroup user3
   25  groups user1 user2 user3
   26  mkdir -p /opt/share
   27  chgrp sharegroup /opt/share
   28  chmod u=rwx,g=rwx,o=,g+s /opt/share
   29  ls -ls /opt/share
   30  ls -ld /opt/share
   31  echo "umask 027" >> /home/user1/.bashrc
   32  su - user1 -c "touch /opt/share/file_user1"
   33  su - user2 -c "touch /opt/share/file_user2"
   34  su - user3 -c "touch /opt/share/file_user3"
   35  grep user3 /etc/passwd
   36  su - user3 -s /bin/bash -c "touch /opt/share/file_user3"
   37  su - user1 -c "rm /opt/share/file_user2"
   38  chmod +t /opt/share
   39  ls -ld /opt/share
   40  su - user1 -c "rm /opt/share/file_user3"
   41  su - user1 -c "dmesg"
   42  visudo
   43  cat > /usr/local/bin/dmesg_user2 << 'EOF'
   44  #!/bin/bash
   45  /usr/bin/dmesg
   46  EOF
   47  chmod 755 /usr/local/bin/dmesg_user2
   48  chown root:root /usr/local/bin/dmesg_user2
   49  chmod u+s /usr/local/bin/dmesg_user2
   50  ls -l /usr/local/bin/dmesg_user2
   51  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   52  su - user2 -c "dmesg | head -3"
   53  exit
   54  history
   55  ls -l /usr/local/bin/dmesg_user1
   56  less /usr/local/bin/dmesg_user2
   57  which sudo
   58  sudo --version
   59  visudo
   60  echo "user1 ALL=(ALL) /usr/bin/dmesg" >> /etc/sudoers.d/user1
   61  su - user1 -c "sudo dmesg | head -3"
   62  u1pass123
   63  rm -f /etc/sudoers.d/user1
   64  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" >> /etc/sudoers.d/user1
   65  cat /etc/sudoers.d/user1
   66  su - user1 -c "sudo dmesg | head -3"
   67  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   68  ls -l /usr/local/bin/dmesg_user2
   69  cat /usr/local/bin/dmesg_user2
   70  su - user3 -s /bin/bash -c "ls -la /opt/share/"
   71  ls -l /usr/bin/dmesg
   72  sudo -l -U user1 2>/dev/null
   73  sudo -l -U user3 2>/dev/null
   74  ls -ld /opt/share
   75  su - user2 -c "sudo dmesg | head -3"
   76  su - user2 -c "/usr/local/bin/dmesg_user2 | head -1"
   77  ls -l /usr/local/bin/dmesg_bash.sh
   78  ls -l /usr/local/bin/dmesg_user2
   79  ls -ls /usr/local/bin/dmesg_user2
   80  visudo
   81  echo "Я пыталась...С user1 через sudo работает, а вот для user2 через скрипт с установленным флагом SUID - нет :( хотя s вместо x есть. "
   82  su - user1 -c "sudo dmesg | head -3"
   83  cat /etc/sudoers.d/user1
   84  cat /etc/sudoers.d/
   85  cat /etc/sudoers.d
   86  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   87  chage -M 10 user1
   88  chage -M 10 user2
   89  chage -M 10 user3
   90  chage -l user1
   91  echo "Варвара Емелюшкина" >> /etc/motd
   92  cat  /etc/motd
   93  rsynk -av /etc/ /root/etc_backup/
   94  rsynс -av /etc/ /root/etc_backup/
   95  rсynс -av /etc/ /root/etc_backup/
   96  rsync -av /etc/ /root/etc_backup/
   97  cd /root
   98  tar -czf etc_backup.tar.gz etc_backup/
   99  tar -cjf etc_backup.tar.bz2 etc_backup/
  100  file etc_backup_bzip2.tar.bz2
  101  ls -la /root/etc_backup/
  102  whoami
  103  rm -f /root/etc_backup_bzip2.tar.bz2
  104  ls -la /root/etc_backup*.bz2
  105  ls -la etc_backup*.bz2
  106  find /root -name "etc_backup*.bz2" -size 0c -delete
  107  ls -la etc_backup*.bz2
  108  ls -ln etc_backup*.bz2
  109  ls -la etc_backup*.bz2
  110  which bzip2
  111  ls -la etc_backup/
  112  ls -la | grep etc_backup
  113  tar -cjf etc_backup.tar.bz2 etc_backup/
  114  apt update
  115  tar -cjf etc_backup.tar.bz2 etc_backup/
  116  history
  117  rm -f tar -cjf etc_backup.tar.bz2 etc_backup/
  118  rm -f /root/etc_backup.tar.bz2 
  119  history
  120  ls -la | grep etc_backup
  121  apt install bzip2 p7zip-full -y
  122  history
  123  tar -cjf etc_backup.tar.bz2 etc_backup/
  124  7z a etc_backup.7z etc_backup/
  125  history
  126  ls -la | grep etc_backup
  127  ls -lh etc_backup.*
  128  cat practice2_eltex-pg1-v9_part1.log
  129  exit
  130  pkill script
  131  exit
  132  userdel -r user1
  133  id user1 user2 user3 2>/dev/null
  134  userdel -r user2  
  135  userdel -r user3
  136  id user1 user2 user3 2>/dev/null
  137  id user1 user2 user3 2>/dev/null || echo "Пользователи удалены"
  138  getent group sharegroup
  139  groupdel sharegroup
  140  getent group sharegroup
  141  rm -rf /opt/share
  142  rm -f /usr/local/bin/dmesg_user2
  143  rm -f /usr/local/bin/dmesg_bash.sh
  144  rm -rf /root/etc_backup*
  145  rm -f /root/etc_backup*.tar.*
  146  rm -f /root/etc_backup.7z
  147  rm -f /tmp/dmesg_wrapper.c
  148  rm -f /tmp/test_script.sh
  149  chmod 0755 /usr/bin/dmesg 2>/dev/null
  150  rm -f /etc/sudoers.d/user1
  151  echo "" > /etc/motd
  152  setcap -r /usr/bin/dmesg 2>/dev/null
  153  cd /home/eltex-pg1-v9
  154  whoami
  155  rm -f practice2_eltex-pg1-v9_part1.log
  156  getent passwd | grep -E "user1|user2|user3"
  157  getent passwd | grep -E "user1|user2|user3" || echo "Нет пользователей user*"
  158  getent group | grep sharegroup || echo "Нет группы sharegroup"
  159  ls -ld /opt/share 2>/dev/null || echo "Каталог /opt/share не существует"
  160  ls -l /usr/local/bin/dmesg_user2 /usr/local/bin/dmesg_bash.sh 2>/dev/null || echo "SUID скриптов нет"
  161  ls -la /root/etc_backup* 2>/dev/null || echo "Архивов нет"
  162  find /home/eltex-pg1-v9 -name "*.log" -type f 2>/dev/null
  163  ls -lh practice2_eltex-pg1-v9_part1.log
  164  exit
  165  whoami
  166  ls
  167  whoami
  168  ls -la
  169  find / -name "*practice2*" 2>/dev/null | head -20
  170  pwd
  171  find ~ -name "practice2_*.log" 2>/dev/null
  172  find / -name "practice2_eltex-pg1-v9_part1.log" 2>/dev/null
  173  ps aux | grep script
  174  rm practice2_eltex-pg1-v9_part1.log
  175  exit
  176  cat ~/.ssh/authorized_keys
  177  ls -la ~/.ssh/
  178  ls -la ~/.ssh/authorized_keys
  179  ls
  180  ls -la
  181  ssh root@172.16.9.183  "rm -f ~/.ssh/authorized_keys"
  182  id user1 user2 user3 2>/dev/null
  183  ls -ld /opt/share 2>/dev/null
  184  ls /etc/motd 
  185  ls -la /etc/motd 
  186  pkill -f script
  187  cd ~
  188  rm -f practice2_*.log clean.log
  189  ls -la practice2_*.log 2>/dev/null
  190  ls -la practice2_*.log 2>/dev/null || echo " Старые логи удалены"
  191  exit
  192  ssh root@172.16.9.183 "sed -i '/eltex-pg1-v9@server1/d' ~/.ssh/authorized_keys"
  193  exit
  194  cat /root/.ssh/authorized_keys
  195  ls -la /root/.ssh/authorized_keys
  196  exit
  197  useradd -m -s /bin/bash user1
  198  passwd user1
  199  adduser user2
  200  adduser user3
  201  usermod -s /usr/sbin/nologin user3
  202  su - user3
  203  su -s /bin/bash user3
  204  whoami
  205  groupadd devops
  206  usermod -aG devops user1
  207  usermod -aG devops user2
  208  usermod -aG devops user3
  209  groups user1
  210  groups user2
  211  groups user3
  212  mkdir -p /opt/share
  213  chown root:devops /opt/share
  214  chmod g+rwxsm /opt/share
  215  chmod g+rwxs /opt/share
  216  su - user1
  217  su - user1 -c "touch /opt/share/file_user1.txt"
  218  su - user2 -c "touch /opt/share/file_user2.txt"
  219  ls -la /opt/share
  220  su - user2 -c "rm /opt/share/file_user1.txt"
  221  echo "получилось удалить чужой файл"
  222  "сейчас мы это исправим"
  223  chmod +t /opt/share
  224  ls -ld /opt/share
  225  echo "исправили, проверяем"
  226  su - user2 -c "rm /opt/share/file_user1.txt"
  227  echo "получилось!"
  228  su - user1 -c "sudo dmesg"
  229  visudo
  230  su - user1 -c "sudo dmesg | head -5"
  231  visudo
  232  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" > /etc/sudoers.d/user1
  233  chmod 440 /etc/sudoers.d/user1
  234  su - user -c "sudo -1"
  235  su - user1 -c "sudo -1"
  236  su - user1 -c "sudo -l"
  237  su - user1 -c "sudo dmesg | head -5"
  238  echo "Ура, работает"
  239  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  240  #!/bin/bash
  241  /usr/bin/dmesg
  242  EOF
  243  chmod +x /usr/local/bin/dmesg_user2.sh
  244  chown root:root /usr/local/bin/dmesg_user2.sh
  245  chmod u+s /usr/local/bin/dmesg_user2.sh
  246  su - user2 -c "sudo dmesg | head -5"
  247  echo "Не сработало, время экспериментов"
  248  chmod 440 /etc/sudoers.d/user2_script
  249  chmod +x /usr/local/bin/dmesg_user2.sh
  250  su - user2 -c "sudo dmesg | head -5"
  251  ls /usr/local/bin/dmesg_user2.sh
  252  la -la /usr/local/bin/dmesg_user2.sh
  253  rm dmesg_user2.sh
  254  rm /usr/local/bin/dmesg_user2.sh
  255  ls -la /usr/local/bin/dmesg_user2.sh
  256  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  257  #!/bin/bash
  258  if [ "$(whoami)" != "root" ]; then
  259  sudo /usr/bin/dmesg "$@"
  260  else
  261  /usr/bin/dmesg "$@"
  262  fi
  263  EOF
  264  echo "user2 ALL=(ALL) NOPASSWD: /usr/local/bin/dmesg_user2.sh" > /etc/sudoers.d/user2_script
  265  chmod 440 /etc/sudoers.d/user2_script
  266  echo "Устала думать, оставлю так :("
  267  chage -M 10 user1
  268  chage -M 10 user2
  269  chage -M 10 user3
  270  chage -l user1
  271  echo "пароли  теперь живут 10 дней"
  272  ls -la /etc/motd
  273  cat /etc/motd
  274  echo "Варвара Емелюшкина" > /etc/motd
  275  cat /etc/motd
  276  rsync -av /etc/ /root/etc_backup/
  277  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  278  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  279  7z a /root/etc_backup.7z /root/etc_backup
  280  ls -ln /root/etc_backup.tar.* /root/etc_backup.7z
  281  echo "bzip2 показал наилучшее сжатие; 7z оказался наименее эффективным"
  282  cat /etc/motd
  283  echo "$(date)" >> /etc/motd
  284  car /etc/motd
  285  cat /etc/motd
  286  rsync -av /etc/ /root/etc_backup/
  287  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  288  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  289  history
  290  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  291  history
  292  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) \ <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  293  echo "пыталась красиво, вышло как всега. ладно, тогда посмотрим проще"
  294  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  295  echo "$(find /root/etc_backup -type f | wc -l)"
  296  echo "кто-то потерялся..."
  297  tar -xzf /root/etc_backup.tar.gz -C /root/
  298  mv /root/etc_backup /root/etc_backup_gzip
  299  7z x /root/etc_backup.7z -o/root/
  300  mv /root/root/etc_backup /root/etc_backup_7zip
  301  ls -la /root/
  302  rm -rf /root/etc_backup* /root/root/
  303  7z x /root/etc_backup.7z -o/root/
  304  ls -la /root/etc_backup*.*
  305  ls -la /root/*.tar.* /root/*.7z /root/*.zip
  306  ls -la etc_backup.7z
  307  ls -la /root/
  308  history
  309  rsync -av /etc/ /root/etc_backup/
  310  history
  311  7z a /root/etc_backup.7z /root/etc_backup/
  312  history
  313  tar -xzf /root/etc_backup.tar.gz -C /root/
  314  mv /root/etc_backup /root/etc_backup_gzip
  315  7z x /root/etc_backup.7z -o/root/
  316  mv /root/root/etc_backup /root/etc_backup_7zip
  317  find /root -type d -name "etc_backup" | grep -v gzip
  318  mv /root/etc_backup /root/etc_backup_7zip
  319  ls -la
  320  diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/etc/motd
  321  ls -la /etc/motd
  322  cat /etc/motd
  323  rsync -av /etc/ /root/etc_backup/
  324  cat /etc/motd
  325  history
  326  find /root/etc_backup_gzip -name "motd"
  327  find /root/etc_backup_7zip -name "motd"
  328  ls -la /root/etc_backup_7zip/etc/ 
  329  ls -la /root/etc_backup_gzip/etc/motd
  330  ls -la /root/etc_backup_gzip/
  331  ls -la /root/etc_backup/
  332  echo "проверка лога"
  333  history
  334  echo "проверка лога"
  335  sync
  336  ps aux |grep script
  337  tail -f practice2_eltex-pg1-v9_part1.log
  338  whoami
  339  exit
  340  echo "проверка"
  341  exit
  342  ls -la /root/etc_backup/
  343  ls -la /root/etc_backup_gzip/etc/motd/
  344  ls -la
  345  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  346  ls -ln /root/etc_backup.tar.bz2
  347  ls -ln /root/etc_backup
  348  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  349  echo "$(find /root/etc_backup -type f | wc -l)"
  350  tar -tf /root/etc_backup.tar.bz2 | wc -l
  351  find /root/etc_backup -type f | wc -l
  352  find /toot/etc_backup -type f -name ".*" | wc -l
  353  find /root/etc_backup -type f -name ".*" | wc -l
  354  rm -f /root/etc_backup.tar.*
  355  ls -la
  356  rm -f /root/etc_backup.tar.
  357  ls -la
  358  find /root/etc_backup -type f -name ".*" | wc -l
  359  rm -rf /root/etc_backup* /root/etc_backup_*
  360  ls -la
  361  ls -la /root/ | grep backup
  362  rsync -av /etc/ /root/etc_backup/
  363  ls -la /root/etc_backup/ | head -10
  364  ls -la /root/etc_backup/motd
  365  cat /root/etc_backup/motd
  366  rsync -av /etc/ /root/etc_backup/
  367  history
  368  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  369  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  370  7z a /root/etc_backup.7z /root/etc_backup/
  371  echo "$(find /root/etc_backup -type f | wc -l)"
  372  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  373  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  374  history
  375  echo "кажется я поняла где я косячу"
  376  rm -f /root/etc_backup.tar.* /root/etc_backup.7z
  377  ls -la
  378  rm etc_backup
  379  rm -rf /root/etc_backup* /root/etc_backup_*
  380  ls -la
  381  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  382  rsync -av /etc/ /root/etc_backup/
  383  ls -la
  384  rm etc_backup.tar.gz
  385  ls -la
  386  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  387  tar -cjf /root/etc_backup.tar.bz2 -C /root/etc_backup .
  388  history
  389  echo "$(find /root/etc_backup -type f | wc -l)"
  390  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  391  echo "$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  392  tar -tf /root/etc_backup.tar.gz | head -10
  393  7z a /root/etc_backup.7z /root/etc_backup/ 
  394  find /root/etc_backup -type f -name ".*" | wc -l
  395  find /root/etc_backup -type f | wc -l
  396  ls -la /root/etc_backup/
  397  ls -la
  398  mkdir -p /root/etc_backup_gzip
  399  tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip
  400  7z x /root/etc_backup.7z -o/root/etc_backup_7zip
  401  ls -la /root/etc_backup_*/
  402  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/motd
  403  history
  404  rm -rf /root/etc_backup_7zip
  405  7z x /root/etc_backup.7z -o/root/etc_backup_7zip -y
  406  ls -la /root/etc_backup_gzip/motd
  407  ls -la /root/etc_backup_7zip/motd
  408  7z l /root/etc_backup.7z | head -20
  409  7z l /root/etc_backup.7z | grep -A 10 "Path"
  410  find /root/etc_backup_7zip -name "motd" -type f
  411  ls -la /root/etc_backup_gzip/motd
  412  ls -la /root/etc_backup_7zip/etc_backup/motd
  413  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/etc_backup/motd
  414  ls -la
  415  echo "теперь все верно"
  416  echo "конец раздела 1"
  417  exit
  418  sudo journalctl -b -S "-20 seconds" | head -20
  419  journalctl -b -q -S "-20 seconds" 2>/dev/null | head -20
  420  sudo journalctl -b -S "-20 seconds" | head -20
  421  journalctl -b -S "-20 seconds" | head -20
  422  whoami
  423  sudo journalctl -b -S "-20 seconds" | head -20
  424  sudo journalctl -b -S "-20 seconds"
  425  exit
  426  sudo jourmalctl -b -q -S "-20 seconds" 
  427  sudo journalctl -b -q -S "-20 seconds"
  428  find -name "auth.log*"
  429  find /var/log -name "auth.log*"
  430  tail -20 /var/log/auth.log
  431  find /var/log -name "auth.log*" | -1
  432  find /var/log -name "auth.log*" | head -1
  433  AUTH_LOG="find /var/log -name "auth.log*" | head -1"
  434  echo $AUTH_LOG
  435  rm AUTH_LOG
  436  AUTH_LOG= find /var/log -name "auth.log*" | head -1
  437  echo $AUTH_LOG
  438  AUTH_LOG="/var/log/auth.log"
  439  echo $AUTH_LOG
  440  AUTH_LOG=$(find /var/log -name "auth.log*" | head -1)
  441  echo $AUTH_LOG
  442  awk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq
  443  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  444  tail -5 $AUTH_LOG
  445  '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  446  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  447  awk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  448  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq
  449  echo "Вот теперь правильно"
  450  history
  451  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  452  '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  453  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  454  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq 
  455  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  456  "ура"
  457  tail -5 etc/passwd
  458  find tail -5 etc/passwd
  459  find etc/passwd
  460  tail -5 /etc/passwd
  461  awk '{print $1}' "/etc/passwd"
  462  tail -5 /etc/passwd
  463  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  464  tail -5 /etc/group
  465  tail /etc/group
  466  history
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr[C[C[C | while res ad line; do
[?2004l[?2004h> uid=$()e)c)h)o) )")")$")l")i")n")e")[C )|) )c)u)t) )-)d)?) )-)f)1)[C[1P[1@,[C[1P -f1)[1P -f1)d -f1), -f1)[C[C[C[C[C
[?2004l[?2004h> user[7m$(echo "$line" | cut -d, -f1)[27m
[A[C[C[C[C[C[C$(echo "$line" | cut -d, -f1)[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1P)2) )|) )t)r) )-)d) )') )')[C
[?2004l[?2004h> ^C[?2004l[?2004h[?2004l
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line; do[27m[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7m uid=$(echo "$line" | cut -d, -f1)[27m[C[C uid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser$(echo "$line" | cut -d, -f2 | tr -d ' ')[1@=
[?2004l[?2004h> gid=[7m$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m
[A[C[C[C[C[C[C$(echo "$line" | cut -d, -f2 | tr -d ' ')[C[C[C[1P[1@3
[?2004l[?2004h> group_name=$()a)w)k) )-)F):) )-)v) )g)i)d)=)")")%")g")i")d")[C )')')$')3') ')=') ')[1P')=') ')g')i')d') '){')}')p}')r}')i}')n}')t}') }')$}')2}')[1P}')1}')[C[C )/)e)t)c)/)g)r)o)u)p)[C
[?2004l[?2004h> echo ''[K[K""$"u"i"d"."[1P"," "5"[1P"$"u"s"e"r"<"[1P"," "$"u"s"e"r"g"r"o"u"p"_"n"a"m"e"[C
[?2004l[?2004h> done 
[?2004l65534, nobody, 
1003, user3, 
998, systemd-network, 
997, systemd-timesync, 
992, systemd-resolve, 
991, polkitd, 
989, fwupd-refresh, 
109, sshd, 
108, usbmux, 
107, landscape, 
105, tcpdump, 
104, uuidd, 
103, syslog, 
101, messagebus, 
42, _apt, 
39, irc, 
38, list, 
34, backup, 
33, www-data, 
13, proxy, 
10, uucp, 
9, news, 
8, mail, 
7, lp, 
6, man, 
5, games, 
3, sys, 
2, bin, 
1, daemon, 
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# lait [K[K[K[K[Kcat /etc/group
[?2004lroot:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:syslog,tech
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:
fax:x:21:
voice:x:22:
cdrom:x:24:tech
floppy:x:25:
tape:x:26:
sudo:x:27:tech
audio:x:29:
dip:x:30:tech
www-data:x:33:
backup:x:34:
operator:x:37:
list:x:38:
irc:x:39:
src:x:40:
shadow:x:42:
utmp:x:43:
video:x:44:
sasl:x:45:
plugdev:x:46:tech
staff:x:50:
games:x:60:
users:x:100:user2,user3
nogroup:x:65534:
systemd-journal:x:999:
systemd-network:x:998:
systemd-timesync:x:997:
input:x:996:
sgx:x:995:
kvm:x:994:
render:x:993:
lxd:x:101:tech
messagebus:x:102:
systemd-resolve:x:992:
_ssh:x:103:
polkitd:x:991:
crontab:x:990:
syslog:x:104:
uuidd:x:105:
rdma:x:106:
tcpdump:x:107:
tss:x:108:
landscape:x:109:
fwupd-refresh:x:989:
tech:x:1000:
user1:x:1001:
user2:x:1002:
user3:x:1003:
devops:x:1004:user1,user2,user3
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line; do [27m
[7m>  uid=$(echo "$line" | cut -d, -f1)[27m
[7m> user=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m
[7m> gid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m
[7m> group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)[27m
[7m> echo "$uid, $user, $usergroup_name"[27m
[7m> done[27m
[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
>  uid=$(echo "$line" | cut -d, -f1)
> user=$(echo "$line" | cut -d, -f2 | tr -d ' ')
> gid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
> group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)
> echo "$uid, $user, $usergroup_name"
> done[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1Pgroup_name"[1Pgroup_name"[1Pgroup_name"[1Pgroup_name"

[?2004l[?2004h> 
[?2004l[?2004h> ^C[?2004l[?2004h[?2004l
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line; do[27m[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7muid=$(echo "$line" | cut -d, -f1)[27m[C[Cuid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser=$(echo "$line" | cut -d, -f2 | tr -d ' ')
[?2004l[?2004h> [7mgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m[C[Cgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
[?2004l[?2004h> [7mgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)[27m[C[C[1Pgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
[?2004l[?2004h> [7mecho "$uid, $user, $group_name"[27m[C[Cecho "$uid, $user, $group_name"
[?2004l[?2004h> [7mdone[27m[C[Cdone
[?2004l-bash: syntax error near unexpected token `done'
-bash: syntax error
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line; do [27m
[7m> uid=$(echo "$line" | cut -d, -f1)[27m
[7m> user=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m
[7m> gid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m
[7m> group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group[27m
[7m> echo "$uid, $user, $group_name"[27m
[7m> done[27m[A[A[A[A[A[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
> uid=$(echo "$line" | cut -d, -f1)
> user=$(echo "$line" | cut -d, -f2 | tr -d ' ')
> gid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
> group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
> echo "$uid, $user, $group_name"
> done
[?2004l[?2004h> ^C[?2004l[?2004h[?2004l
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line;[27m[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7muid=$(echo "$line" | cut -d, -f1)[27m[C[Cuid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser=$(echo "$line" | cut -d, -f2 | tr -d ' ')
[?2004l[?2004h> [7mgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m[C[Cgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
[?2004l[?2004h> [7mgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group[27m[C[Cgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)
[?2004l[?2004h> [7mecho "$uid, $user, $group_name"[27m[C[Cecho "$uid, $user, $group_name"
[?2004l[?2004h> done
[?2004l65534, nobody, 
1003, user3, 
998, systemd-network, 
997, systemd-timesync, 
992, systemd-resolve, 
991, polkitd, 
989, fwupd-refresh, 
109, sshd, 
108, usbmux, 
107, landscape, 
105, tcpdump, 
104, uuidd, 
103, syslog, 
101, messagebus, 
42, _apt, 
39, irc, 
38, list, 
34, backup, 
33, www-data, 
13, proxy, 
10, uucp, 
9, news, 
8, mail, 
7, lp, 
6, man, 
5, games, 
3, sys, 
2, bin, 
1, daemon, 
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr[27m[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
[?2004l65534, nobody, 65534
1003, user3, 1003
998, systemd-network, 998
997, systemd-timesync, 997
992, systemd-resolve, 992
991, polkitd, 991
989, fwupd-refresh, 989
109, sshd, 65534
108, usbmux, 46
107, landscape, 109
105, tcpdump, 107
104, uuidd, 105
103, syslog, 104
101, messagebus, 102
42, _apt, 65534
39, irc, 39
38, list, 38
34, backup, 34
33, www-data, 33
13, proxy, 13
10, uucp, 10
9, news, 9
8, mail, 8
7, lp, 7
6, man, 12
5, games, 60
3, sys, 3
2, bin, 2
1, daemon, 1
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ''[K[K""e""c""h""o"" ""[C[Cz"[1P"я" "с"л"е"п"а"я"." "т"а"м" "н"е" ";" "[1P"[1P"$" "a" "%"?"[1P" "[1P"/"[1P"." "c"t"q"x"f"c" "]"\"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P" "с"е"й"ч"а"с" "и"с"п"р"а"в"л"ю"
[?2004lя слепая. там не $ a %. сейчас исправлю
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $[27m[7m4[27m[7m}' /etc/passwd | sort -t, -k1 -nr | while read line; do[27m[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7muid=$(echo "$line" | cut -d, -f1)[27m[C[Cuid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser=$(echo "$line" | cut -d, -f2 | tr -d ' ')
[?2004l[?2004h> [7mgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m[C[Cgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
[?2004l[?2004h> [7mgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)[27m[C[Cgroup_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group)[1P[1@;[1P[1@3[1P[1@$[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[?2004l[?2004h> [7mecho "$uid, $user, $group_name"[27m[C[Cecho "$uid, $user, $group_name"
[?2004l[?2004h> done
[?2004l65534, nobody, nogroup
1003, user3, user3
998, systemd-network, systemd-network
997, systemd-timesync, systemd-timesync
992, systemd-resolve, systemd-resolve
991, polkitd, polkitd
989, fwupd-refresh, fwupd-refresh
109, sshd, nogroup
108, usbmux, plugdev
107, landscape, landscape
105, tcpdump, tcpdump
104, uuidd, uuidd
103, syslog, syslog
101, messagebus, messagebus
42, _apt, nogroup
39, irc, irc
38, list, list
34, backup, backup
33, www-data, www-data
13, proxy, proxy
10, uucp, uucp
9, news, news
8, mail, mail
7, lp, lp
6, man, man
5, games, games
3, sys, sys
2, bin, bin
1, daemon, daemon
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ""r""[1P""e""c""h""o"" ""[C4"[1P"к"о"с"я"к"."."."н"[1P"э"т"о" "г"[1P"н"е" "в"с"е" "г"р"у"п"п"ы"," "с"е"й"ч"а"с" "п"о"п"р"о"б"у"ю" "и"н"а"ч"е"[1P"[1P"[1P"[1P"[1P"и"с"п"р"а"в"и"т"ь" [A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[?2004lкосяк...это не все группы, сейчас попробую исправить
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# -[Kршыещкн[K[K[K[K[K[K[Khistory
[?2004l    1  exit
    2  export MYUSER="eltex-pg1-v9"
    3  echo $MYUSER
    4  script -a practice2_${MYUSER}_part1.log
    5  rm practice2_${MYUSER}_part1.log
    6  cat practice2_${MYUSER}_part1.log
    7  cat practice2_eltex-pg1-v9_part1.log
    8  exit
    9  whoami
   10  cat ~/.ssh/authorized_keys
   11  ls -l ~/.ssh/authorized_keys
   12  echo "Содержимое одинаковое, права доступа различаются"
   13  useradd -m -s /bin/bash user1
   14  passwd user1
   15  adduser user2
   16  adduser user3
   17  man usermod
   18  usermod -s /usr/sbin/nologin user3
   19  su - user3
   20  su -s /bin/bash user3
   21  groupadd sharegroup
   22  usermod -aG sharegroup user1
   23  usermod -aG sharegroup user2
   24  usermod -aG sharegroup user3
   25  groups user1 user2 user3
   26  mkdir -p /opt/share
   27  chgrp sharegroup /opt/share
   28  chmod u=rwx,g=rwx,o=,g+s /opt/share
   29  ls -ls /opt/share
   30  ls -ld /opt/share
   31  echo "umask 027" >> /home/user1/.bashrc
   32  su - user1 -c "touch /opt/share/file_user1"
   33  su - user2 -c "touch /opt/share/file_user2"
   34  su - user3 -c "touch /opt/share/file_user3"
   35  grep user3 /etc/passwd
   36  su - user3 -s /bin/bash -c "touch /opt/share/file_user3"
   37  su - user1 -c "rm /opt/share/file_user2"
   38  chmod +t /opt/share
   39  ls -ld /opt/share
   40  su - user1 -c "rm /opt/share/file_user3"
   41  su - user1 -c "dmesg"
   42  visudo
   43  cat > /usr/local/bin/dmesg_user2 << 'EOF'
   44  #!/bin/bash
   45  /usr/bin/dmesg
   46  EOF
   47  chmod 755 /usr/local/bin/dmesg_user2
   48  chown root:root /usr/local/bin/dmesg_user2
   49  chmod u+s /usr/local/bin/dmesg_user2
   50  ls -l /usr/local/bin/dmesg_user2
   51  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   52  su - user2 -c "dmesg | head -3"
   53  exit
   54  history
   55  ls -l /usr/local/bin/dmesg_user1
   56  less /usr/local/bin/dmesg_user2
   57  which sudo
   58  sudo --version
   59  visudo
   60  echo "user1 ALL=(ALL) /usr/bin/dmesg" >> /etc/sudoers.d/user1
   61  su - user1 -c "sudo dmesg | head -3"
   62  u1pass123
   63  rm -f /etc/sudoers.d/user1
   64  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" >> /etc/sudoers.d/user1
   65  cat /etc/sudoers.d/user1
   66  su - user1 -c "sudo dmesg | head -3"
   67  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   68  ls -l /usr/local/bin/dmesg_user2
   69  cat /usr/local/bin/dmesg_user2
   70  su - user3 -s /bin/bash -c "ls -la /opt/share/"
   71  ls -l /usr/bin/dmesg
   72  sudo -l -U user1 2>/dev/null
   73  sudo -l -U user3 2>/dev/null
   74  ls -ld /opt/share
   75  su - user2 -c "sudo dmesg | head -3"
   76  su - user2 -c "/usr/local/bin/dmesg_user2 | head -1"
   77  ls -l /usr/local/bin/dmesg_bash.sh
   78  ls -l /usr/local/bin/dmesg_user2
   79  ls -ls /usr/local/bin/dmesg_user2
   80  visudo
   81  echo "Я пыталась...С user1 через sudo работает, а вот для user2 через скрипт с установленным флагом SUID - нет :( хотя s вместо x есть. "
   82  su - user1 -c "sudo dmesg | head -3"
   83  cat /etc/sudoers.d/user1
   84  cat /etc/sudoers.d/
   85  cat /etc/sudoers.d
   86  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   87  chage -M 10 user1
   88  chage -M 10 user2
   89  chage -M 10 user3
   90  chage -l user1
   91  echo "Варвара Емелюшкина" >> /etc/motd
   92  cat  /etc/motd
   93  rsynk -av /etc/ /root/etc_backup/
   94  rsynс -av /etc/ /root/etc_backup/
   95  rсynс -av /etc/ /root/etc_backup/
   96  rsync -av /etc/ /root/etc_backup/
   97  cd /root
   98  tar -czf etc_backup.tar.gz etc_backup/
   99  tar -cjf etc_backup.tar.bz2 etc_backup/
  100  file etc_backup_bzip2.tar.bz2
  101  ls -la /root/etc_backup/
  102  whoami
  103  rm -f /root/etc_backup_bzip2.tar.bz2
  104  ls -la /root/etc_backup*.bz2
  105  ls -la etc_backup*.bz2
  106  find /root -name "etc_backup*.bz2" -size 0c -delete
  107  ls -la etc_backup*.bz2
  108  ls -ln etc_backup*.bz2
  109  ls -la etc_backup*.bz2
  110  which bzip2
  111  ls -la etc_backup/
  112  ls -la | grep etc_backup
  113  tar -cjf etc_backup.tar.bz2 etc_backup/
  114  apt update
  115  tar -cjf etc_backup.tar.bz2 etc_backup/
  116  history
  117  rm -f tar -cjf etc_backup.tar.bz2 etc_backup/
  118  rm -f /root/etc_backup.tar.bz2 
  119  history
  120  ls -la | grep etc_backup
  121  apt install bzip2 p7zip-full -y
  122  history
  123  tar -cjf etc_backup.tar.bz2 etc_backup/
  124  7z a etc_backup.7z etc_backup/
  125  history
  126  ls -la | grep etc_backup
  127  ls -lh etc_backup.*
  128  cat practice2_eltex-pg1-v9_part1.log
  129  exit
  130  pkill script
  131  exit
  132  userdel -r user1
  133  id user1 user2 user3 2>/dev/null
  134  userdel -r user2  
  135  userdel -r user3
  136  id user1 user2 user3 2>/dev/null
  137  id user1 user2 user3 2>/dev/null || echo "Пользователи удалены"
  138  getent group sharegroup
  139  groupdel sharegroup
  140  getent group sharegroup
  141  rm -rf /opt/share
  142  rm -f /usr/local/bin/dmesg_user2
  143  rm -f /usr/local/bin/dmesg_bash.sh
  144  rm -rf /root/etc_backup*
  145  rm -f /root/etc_backup*.tar.*
  146  rm -f /root/etc_backup.7z
  147  rm -f /tmp/dmesg_wrapper.c
  148  rm -f /tmp/test_script.sh
  149  chmod 0755 /usr/bin/dmesg 2>/dev/null
  150  rm -f /etc/sudoers.d/user1
  151  echo "" > /etc/motd
  152  setcap -r /usr/bin/dmesg 2>/dev/null
  153  cd /home/eltex-pg1-v9
  154  whoami
  155  rm -f practice2_eltex-pg1-v9_part1.log
  156  getent passwd | grep -E "user1|user2|user3"
  157  getent passwd | grep -E "user1|user2|user3" || echo "Нет пользователей user*"
  158  getent group | grep sharegroup || echo "Нет группы sharegroup"
  159  ls -ld /opt/share 2>/dev/null || echo "Каталог /opt/share не существует"
  160  ls -l /usr/local/bin/dmesg_user2 /usr/local/bin/dmesg_bash.sh 2>/dev/null || echo "SUID скриптов нет"
  161  ls -la /root/etc_backup* 2>/dev/null || echo "Архивов нет"
  162  find /home/eltex-pg1-v9 -name "*.log" -type f 2>/dev/null
  163  ls -lh practice2_eltex-pg1-v9_part1.log
  164  exit
  165  whoami
  166  ls
  167  whoami
  168  ls -la
  169  find / -name "*practice2*" 2>/dev/null | head -20
  170  pwd
  171  find ~ -name "practice2_*.log" 2>/dev/null
  172  find / -name "practice2_eltex-pg1-v9_part1.log" 2>/dev/null
  173  ps aux | grep script
  174  rm practice2_eltex-pg1-v9_part1.log
  175  exit
  176  cat ~/.ssh/authorized_keys
  177  ls -la ~/.ssh/
  178  ls -la ~/.ssh/authorized_keys
  179  ls
  180  ls -la
  181  ssh root@172.16.9.183  "rm -f ~/.ssh/authorized_keys"
  182  id user1 user2 user3 2>/dev/null
  183  ls -ld /opt/share 2>/dev/null
  184  ls /etc/motd 
  185  ls -la /etc/motd 
  186  pkill -f script
  187  cd ~
  188  rm -f practice2_*.log clean.log
  189  ls -la practice2_*.log 2>/dev/null
  190  ls -la practice2_*.log 2>/dev/null || echo " Старые логи удалены"
  191  exit
  192  ssh root@172.16.9.183 "sed -i '/eltex-pg1-v9@server1/d' ~/.ssh/authorized_keys"
  193  exit
  194  cat /root/.ssh/authorized_keys
  195  ls -la /root/.ssh/authorized_keys
  196  exit
  197  useradd -m -s /bin/bash user1
  198  passwd user1
  199  adduser user2
  200  adduser user3
  201  usermod -s /usr/sbin/nologin user3
  202  su - user3
  203  su -s /bin/bash user3
  204  whoami
  205  groupadd devops
  206  usermod -aG devops user1
  207  usermod -aG devops user2
  208  usermod -aG devops user3
  209  groups user1
  210  groups user2
  211  groups user3
  212  mkdir -p /opt/share
  213  chown root:devops /opt/share
  214  chmod g+rwxsm /opt/share
  215  chmod g+rwxs /opt/share
  216  su - user1
  217  su - user1 -c "touch /opt/share/file_user1.txt"
  218  su - user2 -c "touch /opt/share/file_user2.txt"
  219  ls -la /opt/share
  220  su - user2 -c "rm /opt/share/file_user1.txt"
  221  echo "получилось удалить чужой файл"
  222  "сейчас мы это исправим"
  223  chmod +t /opt/share
  224  ls -ld /opt/share
  225  echo "исправили, проверяем"
  226  su - user2 -c "rm /opt/share/file_user1.txt"
  227  echo "получилось!"
  228  su - user1 -c "sudo dmesg"
  229  visudo
  230  su - user1 -c "sudo dmesg | head -5"
  231  visudo
  232  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" > /etc/sudoers.d/user1
  233  chmod 440 /etc/sudoers.d/user1
  234  su - user -c "sudo -1"
  235  su - user1 -c "sudo -1"
  236  su - user1 -c "sudo -l"
  237  su - user1 -c "sudo dmesg | head -5"
  238  echo "Ура, работает"
  239  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  240  #!/bin/bash
  241  /usr/bin/dmesg
  242  EOF
  243  chmod +x /usr/local/bin/dmesg_user2.sh
  244  chown root:root /usr/local/bin/dmesg_user2.sh
  245  chmod u+s /usr/local/bin/dmesg_user2.sh
  246  su - user2 -c "sudo dmesg | head -5"
  247  echo "Не сработало, время экспериментов"
  248  chmod 440 /etc/sudoers.d/user2_script
  249  chmod +x /usr/local/bin/dmesg_user2.sh
  250  su - user2 -c "sudo dmesg | head -5"
  251  ls /usr/local/bin/dmesg_user2.sh
  252  la -la /usr/local/bin/dmesg_user2.sh
  253  rm dmesg_user2.sh
  254  rm /usr/local/bin/dmesg_user2.sh
  255  ls -la /usr/local/bin/dmesg_user2.sh
  256  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  257  #!/bin/bash
  258  if [ "$(whoami)" != "root" ]; then
  259  sudo /usr/bin/dmesg "$@"
  260  else
  261  /usr/bin/dmesg "$@"
  262  fi
  263  EOF
  264  echo "user2 ALL=(ALL) NOPASSWD: /usr/local/bin/dmesg_user2.sh" > /etc/sudoers.d/user2_script
  265  chmod 440 /etc/sudoers.d/user2_script
  266  echo "Устала думать, оставлю так :("
  267  chage -M 10 user1
  268  chage -M 10 user2
  269  chage -M 10 user3
  270  chage -l user1
  271  echo "пароли  теперь живут 10 дней"
  272  ls -la /etc/motd
  273  cat /etc/motd
  274  echo "Варвара Емелюшкина" > /etc/motd
  275  cat /etc/motd
  276  rsync -av /etc/ /root/etc_backup/
  277  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  278  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  279  7z a /root/etc_backup.7z /root/etc_backup
  280  ls -ln /root/etc_backup.tar.* /root/etc_backup.7z
  281  echo "bzip2 показал наилучшее сжатие; 7z оказался наименее эффективным"
  282  cat /etc/motd
  283  echo "$(date)" >> /etc/motd
  284  car /etc/motd
  285  cat /etc/motd
  286  rsync -av /etc/ /root/etc_backup/
  287  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  288  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  289  history
  290  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  291  history
  292  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) \ <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  293  echo "пыталась красиво, вышло как всега. ладно, тогда посмотрим проще"
  294  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  295  echo "$(find /root/etc_backup -type f | wc -l)"
  296  echo "кто-то потерялся..."
  297  tar -xzf /root/etc_backup.tar.gz -C /root/
  298  mv /root/etc_backup /root/etc_backup_gzip
  299  7z x /root/etc_backup.7z -o/root/
  300  mv /root/root/etc_backup /root/etc_backup_7zip
  301  ls -la /root/
  302  rm -rf /root/etc_backup* /root/root/
  303  7z x /root/etc_backup.7z -o/root/
  304  ls -la /root/etc_backup*.*
  305  ls -la /root/*.tar.* /root/*.7z /root/*.zip
  306  ls -la etc_backup.7z
  307  ls -la /root/
  308  history
  309  rsync -av /etc/ /root/etc_backup/
  310  history
  311  7z a /root/etc_backup.7z /root/etc_backup/
  312  history
  313  tar -xzf /root/etc_backup.tar.gz -C /root/
  314  mv /root/etc_backup /root/etc_backup_gzip
  315  7z x /root/etc_backup.7z -o/root/
  316  mv /root/root/etc_backup /root/etc_backup_7zip
  317  find /root -type d -name "etc_backup" | grep -v gzip
  318  mv /root/etc_backup /root/etc_backup_7zip
  319  ls -la
  320  diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/etc/motd
  321  ls -la /etc/motd
  322  cat /etc/motd
  323  rsync -av /etc/ /root/etc_backup/
  324  cat /etc/motd
  325  history
  326  find /root/etc_backup_gzip -name "motd"
  327  find /root/etc_backup_7zip -name "motd"
  328  ls -la /root/etc_backup_7zip/etc/ 
  329  ls -la /root/etc_backup_gzip/etc/motd
  330  ls -la /root/etc_backup_gzip/
  331  ls -la /root/etc_backup/
  332  echo "проверка лога"
  333  history
  334  echo "проверка лога"
  335  sync
  336  ps aux |grep script
  337  tail -f practice2_eltex-pg1-v9_part1.log
  338  whoami
  339  exit
  340  echo "проверка"
  341  exit
  342  ls -la /root/etc_backup/
  343  ls -la /root/etc_backup_gzip/etc/motd/
  344  ls -la
  345  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  346  ls -ln /root/etc_backup.tar.bz2
  347  ls -ln /root/etc_backup
  348  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  349  echo "$(find /root/etc_backup -type f | wc -l)"
  350  tar -tf /root/etc_backup.tar.bz2 | wc -l
  351  find /root/etc_backup -type f | wc -l
  352  find /toot/etc_backup -type f -name ".*" | wc -l
  353  find /root/etc_backup -type f -name ".*" | wc -l
  354  rm -f /root/etc_backup.tar.*
  355  ls -la
  356  rm -f /root/etc_backup.tar.
  357  ls -la
  358  find /root/etc_backup -type f -name ".*" | wc -l
  359  rm -rf /root/etc_backup* /root/etc_backup_*
  360  ls -la
  361  ls -la /root/ | grep backup
  362  rsync -av /etc/ /root/etc_backup/
  363  ls -la /root/etc_backup/ | head -10
  364  ls -la /root/etc_backup/motd
  365  cat /root/etc_backup/motd
  366  rsync -av /etc/ /root/etc_backup/
  367  history
  368  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  369  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  370  7z a /root/etc_backup.7z /root/etc_backup/
  371  echo "$(find /root/etc_backup -type f | wc -l)"
  372  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  373  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  374  history
  375  echo "кажется я поняла где я косячу"
  376  rm -f /root/etc_backup.tar.* /root/etc_backup.7z
  377  ls -la
  378  rm etc_backup
  379  rm -rf /root/etc_backup* /root/etc_backup_*
  380  ls -la
  381  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  382  rsync -av /etc/ /root/etc_backup/
  383  ls -la
  384  rm etc_backup.tar.gz
  385  ls -la
  386  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  387  tar -cjf /root/etc_backup.tar.bz2 -C /root/etc_backup .
  388  history
  389  echo "$(find /root/etc_backup -type f | wc -l)"
  390  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  391  echo "$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  392  tar -tf /root/etc_backup.tar.gz | head -10
  393  7z a /root/etc_backup.7z /root/etc_backup/ 
  394  find /root/etc_backup -type f -name ".*" | wc -l
  395  find /root/etc_backup -type f | wc -l
  396  ls -la /root/etc_backup/
  397  ls -la
  398  mkdir -p /root/etc_backup_gzip
  399  tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip
  400  7z x /root/etc_backup.7z -o/root/etc_backup_7zip
  401  ls -la /root/etc_backup_*/
  402  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/motd
  403  history
  404  rm -rf /root/etc_backup_7zip
  405  7z x /root/etc_backup.7z -o/root/etc_backup_7zip -y
  406  ls -la /root/etc_backup_gzip/motd
  407  ls -la /root/etc_backup_7zip/motd
  408  7z l /root/etc_backup.7z | head -20
  409  7z l /root/etc_backup.7z | grep -A 10 "Path"
  410  find /root/etc_backup_7zip -name "motd" -type f
  411  ls -la /root/etc_backup_gzip/motd
  412  ls -la /root/etc_backup_7zip/etc_backup/motd
  413  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/etc_backup/motd
  414  ls -la
  415  echo "теперь все верно"
  416  echo "конец раздела 1"
  417  exit
  418  sudo journalctl -b -S "-20 seconds" | head -20
  419  journalctl -b -q -S "-20 seconds" 2>/dev/null | head -20
  420  sudo journalctl -b -S "-20 seconds" | head -20
  421  journalctl -b -S "-20 seconds" | head -20
  422  whoami
  423  sudo journalctl -b -S "-20 seconds" | head -20
  424  sudo journalctl -b -S "-20 seconds"
  425  exit
  426  sudo jourmalctl -b -q -S "-20 seconds" 
  427  sudo journalctl -b -q -S "-20 seconds"
  428  find -name "auth.log*"
  429  find /var/log -name "auth.log*"
  430  tail -20 /var/log/auth.log
  431  find /var/log -name "auth.log*" | -1
  432  find /var/log -name "auth.log*" | head -1
  433  AUTH_LOG="find /var/log -name "auth.log*" | head -1"
  434  echo $AUTH_LOG
  435  rm AUTH_LOG
  436  AUTH_LOG= find /var/log -name "auth.log*" | head -1
  437  echo $AUTH_LOG
  438  AUTH_LOG="/var/log/auth.log"
  439  echo $AUTH_LOG
  440  AUTH_LOG=$(find /var/log -name "auth.log*" | head -1)
  441  echo $AUTH_LOG
  442  awk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq
  443  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  444  tail -5 $AUTH_LOG
  445  '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  446  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  447  awk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  448  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq
  449  echo "Вот теперь правильно"
  450  history
  451  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  452  '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  453  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  454  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq 
  455  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  456  "ура"
  457  tail -5 etc/passwd
  458  find tail -5 etc/passwd
  459  find etc/passwd
  460  tail -5 /etc/passwd
  461  awk '{print $1}' "/etc/passwd"
  462  tail -5 /etc/passwd
  463  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  464  tail -5 /etc/group
  465  tail /etc/group
  466  history
  467  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user$(echo "$line" | cut -d, -f2 | tr -d ' '); 
  468  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do  uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' ');  group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $usergroup_name"; done 
  469  cat /etc/group
  470  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do >  uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); > echo "$uid, $user, $group_name"; > done; 
  471  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
echo "$uid, $user, $group_name"
done
  472  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do > uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
> echo "$uid, $user, $group_name"
> done
  473  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $group_name"; done
  474  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  475  echo "я слепая. там не $ a %. сейчас исправлю"
  476  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="$gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $group_name"; done
  477  echo "косяк...это не все группы, сейчас попробую исправить"
  478  history
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ls 
[?2004l[0m[01;34metc_backup[0m     [01;34metc_backup_7zip[0m  [01;31metc_backup.tar.bz2[0m
[01;31metc_backup.7z[0m  [01;34metc_backup_gzip[0m  [01;31metc_backup.tar.gz[0m
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ls -la
[?2004ltotal 5768
drwx------   8 root root    4096 Oct 20 14:35 [0m[01;34m.[0m
drwxr-xr-x  23 root root    4096 Mar 12  2025 [01;34m..[0m
-rw-------   1 root root   13554 Oct 20 14:31 .bash_history
-rw-r--r--   1 root root    3106 Apr 22  2024 .bashrc
drwx------   2 root root    4096 Oct 15 07:35 [01;34m.cache[0m
drwxr-xr-x 109 root root    4096 Oct 19 10:18 [01;34metc_backup[0m
-rw-r--r--   1 root root 4678375 Oct 19 15:52 [01;31metc_backup.7z[0m
drwxr-xr-x   3 root root    4096 Oct 19 15:59 [01;34metc_backup_7zip[0m
drwxr-xr-x 109 root root    4096 Oct 19 10:18 [01;34metc_backup_gzip[0m
-rw-r--r--   1 root root  560869 Oct 19 15:49 [01;31metc_backup.tar.bz2[0m
-rw-r--r--   1 root root  596596 Oct 19 15:49 [01;31metc_backup.tar.gz[0m
-rw-------   1 root root      20 Oct 20 14:35 .lesshst
drwxr-xr-x   3 root root    4096 Oct 16 15:54 [01;34m.local[0m
-rw-r--r--   1 root root     161 Apr 22  2024 .profile
drwx------   2 root root    4096 Oct 19 08:18 [01;34m.ssh[0m
-rw-------   1 root root     865 Mar 12  2025 .viminfo
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# exit
[?2004llogout
Connection to 172.16.9.183 closed.
[?2004heltex-pg1-v9@eltex-2025-autumn-23:26> ls-[K 
[?2004l[0m[01;34m2025-01[0m  [01;34m2025-07[0m  clean.log                     practice2_eltex-pg1-v9_part1.log
[01;34m2025-02[0m  [01;34m2025-08[0m  [01;34mD1[0m                            practice2_eltex-pg1-v9_part2.log
[01;34m2025-03[0m  [01;34m2025-09[0m  eltex-pg1-v9_part3_gt20M.log  report_part1.txt
[01;34m2025-04[0m  [01;34m2025-10[0m  eltex-pg1-v9_part3.log
[01;34m2025-05[0m  [01;34m2025-11[0m  eltex-pg1-v9_part.log
[01;34m2025-06[0m  [01;34m2025-12[0m  hardcopy.1
[?2004heltex-pg1-v9@eltex-2025-autumn-23:26> le\\[K[K[K[Ktail -10 [7mpractice2_eltex-pg1-v9_part2.log[27mpractice2_eltex-pg1-v9_part2.log
[?2004l[?2004llogout
Connection to 172.16.9.183 closed.
[?2004heltex-pg1-v9@eltex-2025-autumn-23:26> ls-[K 
[?2004l[0m[01;34m2025-01[0m  [01;34m2025-07[0m  clean.log                     practice2_eltex-pg1-v9_part1.log
[01;34m2025-02[0m  [01;34m2025-08[0m  [01;34mD1[0m                            practice2_eltex-pg1-v9_part2.log
[01;34m2025-03[0m  [01;34m2025-09[0m  eltex-pg1-v9_part3_gt20M.log  report_part1.txt
[01;34m2025-04[0m  [01;34m2025-10[0m  eltex-pg1-v9_part3.log
[01;34m2025-05[0m  [01;34m2025-11[0m  eltex-pg1-v9_part.log
[01;34m2025-06[0m  [01;34m2025-12[0m  hardcopy.1
[?2004heltex-pg1-v9@eltex-2025-autumn-23:26> le\\[?2004heltex-pg1-v9@eltex-2025-autumn-23:26> [7mtail -10 practice2_eltex-pg1-v9_part2.log[27m
[7mlogout[27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -10 practice2_eltex-pg1-v9_part2.log
logout
[K[A[C[C[C[C[C[C[K[K[K[K[K[K[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Ktail -10 practice2_eltex-pg1-v9_part2.log[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ktail -10 practice2_eltex-pg1-v9_part2.log[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls [K^C[?2004l[?2004h[?2004l
[?2004heltex-pg1-v9@eltex-2025-autumn-23:27>  [Ktail -100 [7mtail -10 practice2_eltex-pg1-v9_part2.log[27m
[7mlogout[27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -10 practice2_eltex-pg1-v9_part2.log
logout
[K[A[C[C[C[C[C[C[K[K[K[K[K[K[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[7mpractice2_eltex-pg1-v9_part2.log[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cpractice2_eltex-pg1-v9_part2.log
[A
[?2004l  415  echo "теперь все верно"
  416  echo "конец раздела 1"
  417  exit
  418  sudo journalctl -b -S "-20 seconds" | head -20
  419  journalctl -b -q -S "-20 seconds" 2>/dev/null | head -20
  420  sudo journalctl -b -S "-20 seconds" | head -20
  421  journalctl -b -S "-20 seconds" | head -20
  422  whoami
  423  sudo journalctl -b -S "-20 seconds" | head -20
  424  sudo journalctl -b -S "-20 seconds"
  425  exit
  426  sudo jourmalctl -b -q -S "-20 seconds" 
  427  sudo journalctl -b -q -S "-20 seconds"
  428  find -name "auth.log*"
  429  find /var/log -name "auth.log*"
  430  tail -20 /var/log/auth.log
  431  find /var/log -name "auth.log*" | -1
  432  find /var/log -name "auth.log*" | head -1
  433  AUTH_LOG="find /var/log -name "auth.log*" | head -1"
  434  echo $AUTH_LOG
  435  rm AUTH_LOG
  436  AUTH_LOG= find /var/log -name "auth.log*" | head -1
  437  echo $AUTH_LOG
  438  AUTH_LOG="/var/log/auth.log"
  439  echo $AUTH_LOG
  440  AUTH_LOG=$(find /var/log -name "auth.log*" | head -1)
  441  echo $AUTH_LOG
  442  awk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq
  443  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  444  tail -5 $AUTH_LOG
  445  '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  446  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  447  awk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  448  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq
  449  echo "Вот теперь правильно"
  450  history
  451  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  452  '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  453  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  454  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq 
  455  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  456  "ура"
  457  tail -5 etc/passwd
  458  find tail -5 etc/passwd
  459  find etc/passwd
  460  tail -5 /etc/passwd
  461  awk '{print $1}' "/etc/passwd"
  462  tail -5 /etc/passwd
  463  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  464  tail -5 /etc/group
  465  tail /etc/group
  466  history
  467  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user$(echo "$line" | cut -d, -f2 | tr -d ' '); 
  468  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do  uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' ');  group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $usergroup_name"; done 
  469  cat /etc/group
  470  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do >  uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); > echo "$uid, $user, $group_name"; > done; 
  471  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
echo "$uid, $user, $group_name"
done
  472  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do > uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
> echo "$uid, $user, $group_name"
> done
  473  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $group_name"; done
  474  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  475  echo "я слепая. там не $ a %. сейчас исправлю"
  476  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="$gid" '$3 == gid {print $1}' /eScript started on 2025-10-21 19:33:04+07:00 [TERM="xterm" TTY="/dev/pts/82" COLUMNS="80" LINES="24"]
[?2004heltex-pg1-v9@eltex-2025-autumn-19:33> ssh root@[7m172.16.9.183[27m172.16.9.183
[?2004lWelcome to Ubuntu 24.04.2 LTS (GNU/Linux 6.8.0-55-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Tue Oct 21 12:33:28 PM UTC 2025

  System load:  0.01               Processes:              110
  Usage of /:   41.5% of 14.66GB   Users logged in:        0
  Memory usage: 21%                IPv4 address for ens18: 172.16.9.183
  Swap usage:   0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

93 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

1 additional security update can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


*** System restart required ***
Варвара Емелюшкина
Sun Oct 19 10:30:46 AM UTC 2025
Last login: Mon Oct 20 14:33:50 2025 from 172.16.8.4
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# historu[Ky
[?2004l    1  exit
    2  export MYUSER="eltex-pg1-v9"
    3  echo $MYUSER
    4  script -a practice2_${MYUSER}_part1.log
    5  rm practice2_${MYUSER}_part1.log
    6  cat practice2_${MYUSER}_part1.log
    7  cat practice2_eltex-pg1-v9_part1.log
    8  exit
    9  whoami
   10  cat ~/.ssh/authorized_keys
   11  ls -l ~/.ssh/authorized_keys
   12  echo "Содержимое одинаковое, права доступа различаются"
   13  useradd -m -s /bin/bash user1
   14  passwd user1
   15  adduser user2
   16  adduser user3
   17  man usermod
   18  usermod -s /usr/sbin/nologin user3
   19  su - user3
   20  su -s /bin/bash user3
   21  groupadd sharegroup
   22  usermod -aG sharegroup user1
   23  usermod -aG sharegroup user2
   24  usermod -aG sharegroup user3
   25  groups user1 user2 user3
   26  mkdir -p /opt/share
   27  chgrp sharegroup /opt/share
   28  chmod u=rwx,g=rwx,o=,g+s /opt/share
   29  ls -ls /opt/share
   30  ls -ld /opt/share
   31  echo "umask 027" >> /home/user1/.bashrc
   32  su - user1 -c "touch /opt/share/file_user1"
   33  su - user2 -c "touch /opt/share/file_user2"
   34  su - user3 -c "touch /opt/share/file_user3"
   35  grep user3 /etc/passwd
   36  su - user3 -s /bin/bash -c "touch /opt/share/file_user3"
   37  su - user1 -c "rm /opt/share/file_user2"
   38  chmod +t /opt/share
   39  ls -ld /opt/share
   40  su - user1 -c "rm /opt/share/file_user3"
   41  su - user1 -c "dmesg"
   42  visudo
   43  cat > /usr/local/bin/dmesg_user2 << 'EOF'
   44  #!/bin/bash
   45  /usr/bin/dmesg
   46  EOF
   47  chmod 755 /usr/local/bin/dmesg_user2
   48  chown root:root /usr/local/bin/dmesg_user2
   49  chmod u+s /usr/local/bin/dmesg_user2
   50  ls -l /usr/local/bin/dmesg_user2
   51  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   52  su - user2 -c "dmesg | head -3"
   53  exit
   54  history
   55  ls -l /usr/local/bin/dmesg_user1
   56  less /usr/local/bin/dmesg_user2
   57  which sudo
   58  sudo --version
   59  visudo
   60  echo "user1 ALL=(ALL) /usr/bin/dmesg" >> /etc/sudoers.d/user1
   61  su - user1 -c "sudo dmesg | head -3"
   62  u1pass123
   63  rm -f /etc/sudoers.d/user1
   64  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" >> /etc/sudoers.d/user1
   65  cat /etc/sudoers.d/user1
   66  su - user1 -c "sudo dmesg | head -3"
   67  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   68  ls -l /usr/local/bin/dmesg_user2
   69  cat /usr/local/bin/dmesg_user2
   70  su - user3 -s /bin/bash -c "ls -la /opt/share/"
   71  ls -l /usr/bin/dmesg
   72  sudo -l -U user1 2>/dev/null
   73  sudo -l -U user3 2>/dev/null
   74  ls -ld /opt/share
   75  su - user2 -c "sudo dmesg | head -3"
   76  su - user2 -c "/usr/local/bin/dmesg_user2 | head -1"
   77  ls -l /usr/local/bin/dmesg_bash.sh
   78  ls -l /usr/local/bin/dmesg_user2
   79  ls -ls /usr/local/bin/dmesg_user2
   80  visudo
   81  echo "Я пыталась...С user1 через sudo работает, а вот для user2 через скрипт с установленным флагом SUID - нет :( хотя s вместо x есть. "
   82  su - user1 -c "sudo dmesg | head -3"
   83  cat /etc/sudoers.d/user1
   84  cat /etc/sudoers.d/
   85  cat /etc/sudoers.d
   86  su - user2 -c "/usr/local/bin/dmesg_user2 | head -3"
   87  chage -M 10 user1
   88  chage -M 10 user2
   89  chage -M 10 user3
   90  chage -l user1
   91  echo "Варвара Емелюшкина" >> /etc/motd
   92  cat  /etc/motd
   93  rsynk -av /etc/ /root/etc_backup/
   94  rsynс -av /etc/ /root/etc_backup/
   95  rсynс -av /etc/ /root/etc_backup/
   96  rsync -av /etc/ /root/etc_backup/
   97  cd /root
   98  tar -czf etc_backup.tar.gz etc_backup/
   99  tar -cjf etc_backup.tar.bz2 etc_backup/
  100  file etc_backup_bzip2.tar.bz2
  101  ls -la /root/etc_backup/
  102  whoami
  103  rm -f /root/etc_backup_bzip2.tar.bz2
  104  ls -la /root/etc_backup*.bz2
  105  ls -la etc_backup*.bz2
  106  find /root -name "etc_backup*.bz2" -size 0c -delete
  107  ls -la etc_backup*.bz2
  108  ls -ln etc_backup*.bz2
  109  ls -la etc_backup*.bz2
  110  which bzip2
  111  ls -la etc_backup/
  112  ls -la | grep etc_backup
  113  tar -cjf etc_backup.tar.bz2 etc_backup/
  114  apt update
  115  tar -cjf etc_backup.tar.bz2 etc_backup/
  116  history
  117  rm -f tar -cjf etc_backup.tar.bz2 etc_backup/
  118  rm -f /root/etc_backup.tar.bz2 
  119  history
  120  ls -la | grep etc_backup
  121  apt install bzip2 p7zip-full -y
  122  history
  123  tar -cjf etc_backup.tar.bz2 etc_backup/
  124  7z a etc_backup.7z etc_backup/
  125  history
  126  ls -la | grep etc_backup
  127  ls -lh etc_backup.*
  128  cat practice2_eltex-pg1-v9_part1.log
  129  exit
  130  pkill script
  131  exit
  132  userdel -r user1
  133  id user1 user2 user3 2>/dev/null
  134  userdel -r user2  
  135  userdel -r user3
  136  id user1 user2 user3 2>/dev/null
  137  id user1 user2 user3 2>/dev/null || echo "Пользователи удалены"
  138  getent group sharegroup
  139  groupdel sharegroup
  140  getent group sharegroup
  141  rm -rf /opt/share
  142  rm -f /usr/local/bin/dmesg_user2
  143  rm -f /usr/local/bin/dmesg_bash.sh
  144  rm -rf /root/etc_backup*
  145  rm -f /root/etc_backup*.tar.*
  146  rm -f /root/etc_backup.7z
  147  rm -f /tmp/dmesg_wrapper.c
  148  rm -f /tmp/test_script.sh
  149  chmod 0755 /usr/bin/dmesg 2>/dev/null
  150  rm -f /etc/sudoers.d/user1
  151  echo "" > /etc/motd
  152  setcap -r /usr/bin/dmesg 2>/dev/null
  153  cd /home/eltex-pg1-v9
  154  whoami
  155  rm -f practice2_eltex-pg1-v9_part1.log
  156  getent passwd | grep -E "user1|user2|user3"
  157  getent passwd | grep -E "user1|user2|user3" || echo "Нет пользователей user*"
  158  getent group | grep sharegroup || echo "Нет группы sharegroup"
  159  ls -ld /opt/share 2>/dev/null || echo "Каталог /opt/share не существует"
  160  ls -l /usr/local/bin/dmesg_user2 /usr/local/bin/dmesg_bash.sh 2>/dev/null || echo "SUID скриптов нет"
  161  ls -la /root/etc_backup* 2>/dev/null || echo "Архивов нет"
  162  find /home/eltex-pg1-v9 -name "*.log" -type f 2>/dev/null
  163  ls -lh practice2_eltex-pg1-v9_part1.log
  164  exit
  165  whoami
  166  ls
  167  whoami
  168  ls -la
  169  find / -name "*practice2*" 2>/dev/null | head -20
  170  pwd
  171  find ~ -name "practice2_*.log" 2>/dev/null
  172  find / -name "practice2_eltex-pg1-v9_part1.log" 2>/dev/null
  173  ps aux | grep script
  174  rm practice2_eltex-pg1-v9_part1.log
  175  exit
  176  cat ~/.ssh/authorized_keys
  177  ls -la ~/.ssh/
  178  ls -la ~/.ssh/authorized_keys
  179  ls
  180  ls -la
  181  ssh root@172.16.9.183  "rm -f ~/.ssh/authorized_keys"
  182  id user1 user2 user3 2>/dev/null
  183  ls -ld /opt/share 2>/dev/null
  184  ls /etc/motd 
  185  ls -la /etc/motd 
  186  pkill -f script
  187  cd ~
  188  rm -f practice2_*.log clean.log
  189  ls -la practice2_*.log 2>/dev/null
  190  ls -la practice2_*.log 2>/dev/null || echo " Старые логи удалены"
  191  exit
  192  ssh root@172.16.9.183 "sed -i '/eltex-pg1-v9@server1/d' ~/.ssh/authorized_keys"
  193  exit
  194  cat /root/.ssh/authorized_keys
  195  ls -la /root/.ssh/authorized_keys
  196  exit
  197  useradd -m -s /bin/bash user1
  198  passwd user1
  199  adduser user2
  200  adduser user3
  201  usermod -s /usr/sbin/nologin user3
  202  su - user3
  203  su -s /bin/bash user3
  204  whoami
  205  groupadd devops
  206  usermod -aG devops user1
  207  usermod -aG devops user2
  208  usermod -aG devops user3
  209  groups user1
  210  groups user2
  211  groups user3
  212  mkdir -p /opt/share
  213  chown root:devops /opt/share
  214  chmod g+rwxsm /opt/share
  215  chmod g+rwxs /opt/share
  216  su - user1
  217  su - user1 -c "touch /opt/share/file_user1.txt"
  218  su - user2 -c "touch /opt/share/file_user2.txt"
  219  ls -la /opt/share
  220  su - user2 -c "rm /opt/share/file_user1.txt"
  221  echo "получилось удалить чужой файл"
  222  "сейчас мы это исправим"
  223  chmod +t /opt/share
  224  ls -ld /opt/share
  225  echo "исправили, проверяем"
  226  su - user2 -c "rm /opt/share/file_user1.txt"
  227  echo "получилось!"
  228  su - user1 -c "sudo dmesg"
  229  visudo
  230  su - user1 -c "sudo dmesg | head -5"
  231  visudo
  232  echo "user1 ALL=(ALL) NOPASSWD: /usr/bin/dmesg" > /etc/sudoers.d/user1
  233  chmod 440 /etc/sudoers.d/user1
  234  su - user -c "sudo -1"
  235  su - user1 -c "sudo -1"
  236  su - user1 -c "sudo -l"
  237  su - user1 -c "sudo dmesg | head -5"
  238  echo "Ура, работает"
  239  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  240  #!/bin/bash
  241  /usr/bin/dmesg
  242  EOF
  243  chmod +x /usr/local/bin/dmesg_user2.sh
  244  chown root:root /usr/local/bin/dmesg_user2.sh
  245  chmod u+s /usr/local/bin/dmesg_user2.sh
  246  su - user2 -c "sudo dmesg | head -5"
  247  echo "Не сработало, время экспериментов"
  248  chmod 440 /etc/sudoers.d/user2_script
  249  chmod +x /usr/local/bin/dmesg_user2.sh
  250  su - user2 -c "sudo dmesg | head -5"
  251  ls /usr/local/bin/dmesg_user2.sh
  252  la -la /usr/local/bin/dmesg_user2.sh
  253  rm dmesg_user2.sh
  254  rm /usr/local/bin/dmesg_user2.sh
  255  ls -la /usr/local/bin/dmesg_user2.sh
  256  cat > /usr/local/bin/dmesg_user2.sh << 'EOF'
  257  #!/bin/bash
  258  if [ "$(whoami)" != "root" ]; then
  259  sudo /usr/bin/dmesg "$@"
  260  else
  261  /usr/bin/dmesg "$@"
  262  fi
  263  EOF
  264  echo "user2 ALL=(ALL) NOPASSWD: /usr/local/bin/dmesg_user2.sh" > /etc/sudoers.d/user2_script
  265  chmod 440 /etc/sudoers.d/user2_script
  266  echo "Устала думать, оставлю так :("
  267  chage -M 10 user1
  268  chage -M 10 user2
  269  chage -M 10 user3
  270  chage -l user1
  271  echo "пароли  теперь живут 10 дней"
  272  ls -la /etc/motd
  273  cat /etc/motd
  274  echo "Варвара Емелюшкина" > /etc/motd
  275  cat /etc/motd
  276  rsync -av /etc/ /root/etc_backup/
  277  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  278  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  279  7z a /root/etc_backup.7z /root/etc_backup
  280  ls -ln /root/etc_backup.tar.* /root/etc_backup.7z
  281  echo "bzip2 показал наилучшее сжатие; 7z оказался наименее эффективным"
  282  cat /etc/motd
  283  echo "$(date)" >> /etc/motd
  284  car /etc/motd
  285  cat /etc/motd
  286  rsync -av /etc/ /root/etc_backup/
  287  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  288  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  289  history
  290  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  291  history
  292  diff <(tar -tf /root/etc_backup.tar.bz2 | sed 's|^etc/||' | sort) \ <(find /root/etc_backup -type f | sed 's|/root/etc_backup/||' | sort)
  293  echo "пыталась красиво, вышло как всега. ладно, тогда посмотрим проще"
  294  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  295  echo "$(find /root/etc_backup -type f | wc -l)"
  296  echo "кто-то потерялся..."
  297  tar -xzf /root/etc_backup.tar.gz -C /root/
  298  mv /root/etc_backup /root/etc_backup_gzip
  299  7z x /root/etc_backup.7z -o/root/
  300  mv /root/root/etc_backup /root/etc_backup_7zip
  301  ls -la /root/
  302  rm -rf /root/etc_backup* /root/root/
  303  7z x /root/etc_backup.7z -o/root/
  304  ls -la /root/etc_backup*.*
  305  ls -la /root/*.tar.* /root/*.7z /root/*.zip
  306  ls -la etc_backup.7z
  307  ls -la /root/
  308  history
  309  rsync -av /etc/ /root/etc_backup/
  310  history
  311  7z a /root/etc_backup.7z /root/etc_backup/
  312  history
  313  tar -xzf /root/etc_backup.tar.gz -C /root/
  314  mv /root/etc_backup /root/etc_backup_gzip
  315  7z x /root/etc_backup.7z -o/root/
  316  mv /root/root/etc_backup /root/etc_backup_7zip
  317  find /root -type d -name "etc_backup" | grep -v gzip
  318  mv /root/etc_backup /root/etc_backup_7zip
  319  ls -la
  320  diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/etc/motd
  321  ls -la /etc/motd
  322  cat /etc/motd
  323  rsync -av /etc/ /root/etc_backup/
  324  cat /etc/motd
  325  history
  326  find /root/etc_backup_gzip -name "motd"
  327  find /root/etc_backup_7zip -name "motd"
  328  ls -la /root/etc_backup_7zip/etc/ 
  329  ls -la /root/etc_backup_gzip/etc/motd
  330  ls -la /root/etc_backup_gzip/
  331  ls -la /root/etc_backup/
  332  echo "проверка лога"
  333  history
  334  echo "проверка лога"
  335  sync
  336  ps aux |grep script
  337  tail -f practice2_eltex-pg1-v9_part1.log
  338  whoami
  339  exit
  340  echo "проверка"
  341  exit
  342  ls -la /root/etc_backup/
  343  ls -la /root/etc_backup_gzip/etc/motd/
  344  ls -la
  345  diff <(tar -tf /root/etc_backup.tar.bz2 | sort) <(find /root/etc_backup -type f | sort)
  346  ls -ln /root/etc_backup.tar.bz2
  347  ls -ln /root/etc_backup
  348  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  349  echo "$(find /root/etc_backup -type f | wc -l)"
  350  tar -tf /root/etc_backup.tar.bz2 | wc -l
  351  find /root/etc_backup -type f | wc -l
  352  find /toot/etc_backup -type f -name ".*" | wc -l
  353  find /root/etc_backup -type f -name ".*" | wc -l
  354  rm -f /root/etc_backup.tar.*
  355  ls -la
  356  rm -f /root/etc_backup.tar.
  357  ls -la
  358  find /root/etc_backup -type f -name ".*" | wc -l
  359  rm -rf /root/etc_backup* /root/etc_backup_*
  360  ls -la
  361  ls -la /root/ | grep backup
  362  rsync -av /etc/ /root/etc_backup/
  363  ls -la /root/etc_backup/ | head -10
  364  ls -la /root/etc_backup/motd
  365  cat /root/etc_backup/motd
  366  rsync -av /etc/ /root/etc_backup/
  367  history
  368  tar -czf /root/etc_backup.tar.gz -C /root etc_backup
  369  tar -cjf /root/etc_backup.tar.bz2 -C /root etc_backup
  370  7z a /root/etc_backup.7z /root/etc_backup/
  371  echo "$(find /root/etc_backup -type f | wc -l)"
  372  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  373  echo "$(tar -tf /root/etc_backup.tar.bz2 | wc -l)"
  374  history
  375  echo "кажется я поняла где я косячу"
  376  rm -f /root/etc_backup.tar.* /root/etc_backup.7z
  377  ls -la
  378  rm etc_backup
  379  rm -rf /root/etc_backup* /root/etc_backup_*
  380  ls -la
  381  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  382  rsync -av /etc/ /root/etc_backup/
  383  ls -la
  384  rm etc_backup.tar.gz
  385  ls -la
  386  tar -czf /root/etc_backup.tar.gz -C /root/etc_backup .
  387  tar -cjf /root/etc_backup.tar.bz2 -C /root/etc_backup .
  388  history
  389  echo "$(find /root/etc_backup -type f | wc -l)"
  390  echo"$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  391  echo "$(tar -tf /root/etc_backup.tar.gz | wc -l)"
  392  tar -tf /root/etc_backup.tar.gz | head -10
  393  7z a /root/etc_backup.7z /root/etc_backup/ 
  394  find /root/etc_backup -type f -name ".*" | wc -l
  395  find /root/etc_backup -type f | wc -l
  396  ls -la /root/etc_backup/
  397  ls -la
  398  mkdir -p /root/etc_backup_gzip
  399  tar -xzf /root/etc_backup.tar.gz -C /root/etc_backup_gzip
  400  7z x /root/etc_backup.7z -o/root/etc_backup_7zip
  401  ls -la /root/etc_backup_*/
  402  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/motd
  403  history
  404  rm -rf /root/etc_backup_7zip
  405  7z x /root/etc_backup.7z -o/root/etc_backup_7zip -y
  406  ls -la /root/etc_backup_gzip/motd
  407  ls -la /root/etc_backup_7zip/motd
  408  7z l /root/etc_backup.7z | head -20
  409  7z l /root/etc_backup.7z | grep -A 10 "Path"
  410  find /root/etc_backup_7zip -name "motd" -type f
  411  ls -la /root/etc_backup_gzip/motd
  412  ls -la /root/etc_backup_7zip/etc_backup/motd
  413  diff /root/etc_backup_gzip/motd /root/etc_backup_7zip/etc_backup/motd
  414  ls -la
  415  echo "теперь все верно"
  416  echo "конец раздела 1"
  417  exit
  418  sudo journalctl -b -S "-20 seconds" | head -20
  419  journalctl -b -q -S "-20 seconds" 2>/dev/null | head -20
  420  sudo journalctl -b -S "-20 seconds" | head -20
  421  journalctl -b -S "-20 seconds" | head -20
  422  whoami
  423  sudo journalctl -b -S "-20 seconds" | head -20
  424  sudo journalctl -b -S "-20 seconds"
  425  exit
  426  sudo jourmalctl -b -q -S "-20 seconds" 
  427  sudo journalctl -b -q -S "-20 seconds"
  428  find -name "auth.log*"
  429  find /var/log -name "auth.log*"
  430  tail -20 /var/log/auth.log
  431  find /var/log -name "auth.log*" | -1
  432  find /var/log -name "auth.log*" | head -1
  433  AUTH_LOG="find /var/log -name "auth.log*" | head -1"
  434  echo $AUTH_LOG
  435  rm AUTH_LOG
  436  AUTH_LOG= find /var/log -name "auth.log*" | head -1
  437  echo $AUTH_LOG
  438  AUTH_LOG="/var/log/auth.log"
  439  echo $AUTH_LOG
  440  AUTH_LOG=$(find /var/log -name "auth.log*" | head -1)
  441  echo $AUTH_LOG
  442  awk '{gsub(/\[.*\]/, "", $5); print $5}' "$AUTH_LOG" | sort |uniq
  443  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  444  tail -5 $AUTH_LOG
  445  '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  446  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort |uniq
  447  awk '{gsub(/\[.*\]/, "", $3); print $3, $5, $6}' "$AUTH_LOG" | sort |uniq
  448  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort |uniq
  449  echo "Вот теперь правильно"
  450  history
  451  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  452  '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  453  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq -c
  454  awk '{gsub(/\[.*\]/, "", $3); print substr($0, index($0,$3))}' "$AUTH_LOG" | sort | uniq 
  455  awk '{gsub(/\[.*\]/, "", $3); print $3}' "$AUTH_LOG" | sort | uniq -c | sort -nr | awk '{print $1 " " $2}'
  456  "ура"
  457  tail -5 etc/passwd
  458  find tail -5 etc/passwd
  459  find etc/passwd
  460  tail -5 /etc/passwd
  461  awk '{print $1}' "/etc/passwd"
  462  tail -5 /etc/passwd
  463  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  464  tail -5 /etc/group
  465  tail /etc/group
  466  history
  467  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user$(echo "$line" | cut -d, -f2 | tr -d ' '); 
  468  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do  uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' ');  group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $usergroup_name"; done 
  469  cat /etc/group
  470  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do >  uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); > echo "$uid, $user, $group_name"; > done; 
  471  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
  472  echo "$uid, $user, $group_name"
  473  done
  474  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do > uid=$(echo "$line" | cut -d, -f1); > user=$(echo "$line" | cut -d, -f2 | tr -d ' '); > gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); > group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group
  475  > echo "$uid, $user, $group_name"
  476  > done
  477  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="%gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $group_name"; done
  478  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr
  479  echo "я слепая. там не $ a %. сейчас исправлю"
  480  awk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do uid=$(echo "$line" | cut -d, -f1); user=$(echo "$line" | cut -d, -f2 | tr -d ' '); gid=$(echo "$line" | cut -d, -f3 | tr -d ' '); group_name=$(awk -F: -v gid="$gid" '$3 == gid {print $1}' /etc/group); echo "$uid, $user, $group_name"; done
  481  echo "косяк...это не все группы, сейчас попробую исправить"
  482  history
  483  ls 
  484  ls -la
  485  exit
  486  history
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [K]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}'[27m[7m [27m[7m/etc/passwd | sort -t, -k1 -nr | while read line; do [27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7muid=$(echo "$line" | cut -d, -f1)[27m[C[Cuid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser=$(echo "$line" | cut -d, -f2 | tr -d ' ')
[?2004l[?2004h> [7mgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m[C[Cgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
[?2004l[?2004h> [7mgroup_name=$(awk -F: -v gid="$gid" '$3 == gid {print $1}' /etc/group)[27m[C[Cgroup_name=$(awk -F: -v gid="$gid" '$3 == gid {print $1}' /etc/group)
[?2004l[?2004h> [7mecho "$uid, $user, $group_name"[27m[C[Cecho "$uid, $user, $group_name"
[?2004l[?2004h> done
[?2004l65534, nobody, nogroup
1003, user3, user3
998, systemd-network, systemd-network
997, systemd-timesync, systemd-timesync
992, systemd-resolve, systemd-resolve
991, polkitd, polkitd
989, fwupd-refresh, fwupd-refresh
109, sshd, nogroup
108, usbmux, plugdev
107, landscape, landscape
105, tcpdump, tcpdump
104, uuidd, uuidd
103, syslog, syslog
101, messagebus, messagebus
42, _apt, nogroup
39, irc, irc
38, list, list
34, backup, backup
33, www-data, www-data
13, proxy, proxy
10, uucp, uucp
9, news, news
8, mail, mail
7, lp, lp
6, man, man
5, games, games
3, sys, sys
2, bin, bin
1, daemon, daemon
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}'[27m[7m [27m[7m/etc/passwd | \ [27m
[7msort -t, -k1 -nr | while read line; do[27m[A[Aawk -F: '$7 == "/usr/sbin/nologin" {print $3 ", " $1 ", " $4}' /etc/passwd | \
sort -t, -k1 -nr | while read line; do
[?2004l[?2004h> [7muid=$(echo "$line" | cut -d, -f1)[27m[C[Cuid=$(echo "$line" | cut -d, -f1)
[?2004l[?2004h> [7muser=$(echo "$line" | cut -d, -f2 | tr -d ' ')[27m[C[Cuser=$(echo "$line" | cut -d, -f2 | tr -d ' ')
[?2004l[?2004h> [7mgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')[27m[C[Cgid=$(echo "$line" | cut -d, -f3 | tr -d ' ')
[?2004l[?2004h> [7mgroups=$(awk -F: -v user_gid="$gid" '$3 == user_gid {print $1}' /etc/group | tr '\n' ',' | [27m[7ms[27m[7med 's/,$//')[27m[A[C[Cgroups=$(awk -F: -v user_gid="$gid" '$3 == user_gid {print $1}' /etc/group | tr '\n' ',' | sed 's/,$//')
[?2004l[?2004h> [7mgroups_secondary=$(awk -F: -v username="$user" '$4 ~ username {print $1}' /etc/group | tr '[27m[7m\[27m[7mn' ',' | sed 's/,$//')[27m[A[C[Cgroups_secondary=$(awk -F: -v username="$user" '$4 ~ username {print $1}' /etc/group | tr '\n' ',' | sed 's/,$//')[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004l[?2004h> [7mif [ -n "$groups_secondary" ]; then[27m[C[Cif [ -n "$groups_secondary" ]; then
[?2004l[?2004h> [7mall_groups="${groups},${groups_secondary}"[27m[C[Call_groups="${groups},${groups_secondary}"
[?2004l[?2004h> elsre[K[Ke
[?2004l[?2004h> [7mall_groups="$groups"[27m[C[Call_groups="$groups"
[?2004l[?2004h> fi
[?2004l[?2004h> [7mecho "$uid, $user, $all_groups"[27m[C[Cecho "$uid, $user, $all_groups"
[?2004l[?2004h> done
[?2004l65534, nobody, nogroup
1003, user3, user3,users,devops
998, systemd-network, systemd-network
997, systemd-timesync, systemd-timesync
992, systemd-resolve, systemd-resolve
991, polkitd, polkitd
989, fwupd-refresh, fwupd-refresh
109, sshd, nogroup
108, usbmux, plugdev
107, landscape, landscape
105, tcpdump, tcpdump
104, uuidd, uuidd
103, syslog, syslog,adm
101, messagebus, messagebus
42, _apt, nogroup
39, irc, irc
38, list, list
34, backup, backup
33, www-data, www-data
13, proxy, proxy
10, uucp, uucp
9, news, news
8, mail, mail
7, lp, lp
6, man, man
5, games, games
3, sys, sys,adm
2, bin, bin
1, daemon, daemon
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ''[K[Kdn[Kmesg | awk ''t'o'l'o'w'e'r'(')'$)'0)'[C '~' '/'/'k/'e/'r/'n/'e/'l/'[C
[?2004l[    0.000000] KERNEL supported cpus:
[    0.045174] Booting paravirtualized kernel on KVM
[    0.046156] Kernel command line: BOOT_IMAGE=/vmlinuz-6.8.0-55-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro
[    0.046192] Unknown kernel command line parameters "BOOT_IMAGE=/vmlinuz-6.8.0-55-generic", will be passed to user space.
[    0.107216] Memory: 3933500K/4193760K available (22528K kernel code, 4443K rwdata, 14344K rodata, 4988K init, 4716K bss, 260000K reserved, 0K cma-reserved)
[    0.267768] DMA: preallocated 512 KiB GFP_KERNEL pool for atomic allocations
[    0.267810] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA pool for atomic allocations
[    0.267851] DMA: preallocated 512 KiB GFP_KERNEL|GFP_DMA32 pool for atomic allocations
[    0.490907] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.494328] Loaded X.509 cert 'Canonical Ltd. Kernel Module Signing: 88f752e560a1e0737e31163a466ad7b70a850c19'
[    0.635488] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.656550] Freeing unused kernel image (initmem) memory: 4988K
[    0.657428] Write protecting the kernel read-only data: 38912k
[    0.658528] Freeing unused kernel image (rodata/data gap) memory: 2040K
[    5.749479] systemd[1]: Listening on systemd-udevd-kernel.socket - udev Kernel Socket.
[    5.761100] systemd[1]: Mounting sys-kernel-debug.mount - Kernel Debug File System...
[    5.767527] systemd[1]: Mounting sys-kernel-tracing.mount - Kernel Trace File System...
[    5.788637] systemd[1]: Starting modprobe@configfs.service - Load Kernel Module configfs...
[    5.792798] systemd[1]: Starting modprobe@dm_mod.service - Load Kernel Module dm_mod...
[    5.796710] systemd[1]: Starting modprobe@drm.service - Load Kernel Module drm...
[    5.798633] systemd[1]: Starting modprobe@efi_pstore.service - Load Kernel Module efi_pstore...
[    5.801885] systemd[1]: Starting modprobe@fuse.service - Load Kernel Module fuse...
[    5.805198] systemd[1]: Starting modprobe@loop.service - Load Kernel Module loop...
[    5.812569] systemd[1]: Starting systemd-modules-load.service - Load Kernel Modules...
[    5.814949] systemd[1]: Starting systemd-remount-fs.service - Remount Root and Kernel File Systems...
[    5.827602] systemd[1]: Mounted sys-kernel-debug.mount - Kernel Debug File System.
[    5.828301] systemd[1]: Mounted sys-kernel-tracing.mount - Kernel Trace File System.
[    5.830207] systemd[1]: Finished modprobe@configfs.service - Load Kernel Module configfs.
[    5.831314] systemd[1]: Finished modprobe@dm_mod.service - Load Kernel Module dm_mod.
[    5.832420] systemd[1]: Finished modprobe@drm.service - Load Kernel Module drm.
[    5.833505] systemd[1]: Finished modprobe@fuse.service - Load Kernel Module fuse.
[    5.834582] systemd[1]: Finished modprobe@loop.service - Load Kernel Module loop.
[    5.840759] systemd[1]: Mounting sys-kernel-config.mount - Kernel Configuration File System...
[    5.848130] systemd[1]: Mounted sys-kernel-config.mount - Kernel Configuration File System.
[    5.861165] systemd[1]: Finished systemd-remount-fs.service - Remount Root and Kernel File Systems.
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ""r""[1P""у""с""р""[1P""[1P""[1P""e""c""h""o"" ""[Cg"j"[1P"[1P"[Kм"о"[1P"[1P"[1P"Э"[1P" "Э"[1P"[C"[Cм"о"ж"н"о" "е"щ"е" "п"о"п"р"о"б"о"в"а"т"ь" "т"а"к":"
[?2004lможно еще попробовать так:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# dmesg |grep -i ''k'e'r'n'e'l'
[?2004l[    0.000000] [01;31m[KKERNEL[m[K supported cpus:
[    0.045174] Booting paravirtualized [01;31m[Kkernel[m[K on KVM
[    0.046156] [01;31m[KKernel[m[K command line: BOOT_IMAGE=/vmlinuz-6.8.0-55-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro
[    0.046192] Unknown [01;31m[Kkernel[m[K command line parameters "BOOT_IMAGE=/vmlinuz-6.8.0-55-generic", will be passed to user space.
[    0.107216] Memory: 3933500K/4193760K available (22528K [01;31m[Kkernel[m[K code, 4443K rwdata, 14344K rodata, 4988K init, 4716K bss, 260000K reserved, 0K cma-reserved)
[    0.267768] DMA: preallocated 512 KiB GFP_[01;31m[KKERNEL[m[K pool for atomic allocations
[    0.267810] DMA: preallocated 512 KiB GFP_[01;31m[KKERNEL[m[K|GFP_DMA pool for atomic allocations
[    0.267851] DMA: preallocated 512 KiB GFP_[01;31m[KKERNEL[m[K|GFP_DMA32 pool for atomic allocations
[    0.490907] Loaded X.509 cert 'Build time autogenerated [01;31m[Kkernel[m[K key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.494328] Loaded X.509 cert 'Canonical Ltd. [01;31m[KKernel[m[K Module Signing: 88f752e560a1e0737e31163a466ad7b70a850c19'
[    0.635488] Loaded X.509 cert 'Build time autogenerated [01;31m[Kkernel[m[K key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.656550] Freeing unused [01;31m[Kkernel[m[K image (initmem) memory: 4988K
[    0.657428] Write protecting the [01;31m[Kkernel[m[K read-only data: 38912k
[    0.658528] Freeing unused [01;31m[Kkernel[m[K image (rodata/data gap) memory: 2040K
[    5.749479] systemd[1]: Listening on systemd-udevd-[01;31m[Kkernel[m[K.socket - udev [01;31m[KKernel[m[K Socket.
[    5.761100] systemd[1]: Mounting sys-[01;31m[Kkernel[m[K-debug.mount - [01;31m[KKernel[m[K Debug File System...
[    5.767527] systemd[1]: Mounting sys-[01;31m[Kkernel[m[K-tracing.mount - [01;31m[KKernel[m[K Trace File System...
[    5.788637] systemd[1]: Starting modprobe@configfs.service - Load [01;31m[KKernel[m[K Module configfs...
[    5.792798] systemd[1]: Starting modprobe@dm_mod.service - Load [01;31m[KKernel[m[K Module dm_mod...
[    5.796710] systemd[1]: Starting modprobe@drm.service - Load [01;31m[KKernel[m[K Module drm...
[    5.798633] systemd[1]: Starting modprobe@efi_pstore.service - Load [01;31m[KKernel[m[K Module efi_pstore...
[    5.801885] systemd[1]: Starting modprobe@fuse.service - Load [01;31m[KKernel[m[K Module fuse...
[    5.805198] systemd[1]: Starting modprobe@loop.service - Load [01;31m[KKernel[m[K Module loop...
[    5.812569] systemd[1]: Starting systemd-modules-load.service - Load [01;31m[KKernel[m[K Modules...
[    5.814949] systemd[1]: Starting systemd-remount-fs.service - Remount Root and [01;31m[KKernel[m[K File Systems...
[    5.827602] systemd[1]: Mounted sys-[01;31m[Kkernel[m[K-debug.mount - [01;31m[KKernel[m[K Debug File System.
[    5.828301] systemd[1]: Mounted sys-[01;31m[Kkernel[m[K-tracing.mount - [01;31m[KKernel[m[K Trace File System.
[    5.830207] systemd[1]: Finished modprobe@configfs.service - Load [01;31m[KKernel[m[K Module configfs.
[    5.831314] systemd[1]: Finished modprobe@dm_mod.service - Load [01;31m[KKernel[m[K Module dm_mod.
[    5.832420] systemd[1]: Finished modprobe@drm.service - Load [01;31m[KKernel[m[K Module drm.
[    5.833505] systemd[1]: Finished modprobe@fuse.service - Load [01;31m[KKernel[m[K Module fuse.
[    5.834582] systemd[1]: Finished modprobe@loop.service - Load [01;31m[KKernel[m[K Module loop.
[    5.840759] systemd[1]: Mounting sys-[01;31m[Kkernel[m[K-config.mount - [01;31m[KKernel[m[K Configuration File System...
[    5.848130] systemd[1]: Mounted sys-[01;31m[Kkernel[m[K-config.mount - [01;31m[KKernel[m[K Configuration File System.
[    5.861165] systemd[1]: Finished systemd-remount-fs.service - Remount Root and [01;31m[KKernel[m[K File Systems.
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ефшд[K[K[K[Ktail -10 /var/log/kern/[K.log
[?2004l2025-10-21T11:14:39.587446+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.583:821): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_apt_news" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/__init__.cpython-312.pyc.138947962533680" pid=53110 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.590413+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.588:822): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_apt_news" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/apt.cpython-312.pyc.138947962707440" pid=53110 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.602413+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.600:823): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/__init__.cpython-312.pyc.124664355884464" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.603412+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.601:824): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/log.cpython-312.pyc.124664357435776" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.609415+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.607:825): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/defaults.cpython-312.pyc.124664354773040" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.609420+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.607:826): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/secret_manager.cpython-312.pyc.124664354773040" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.613414+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.611:827): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/system.cpython-312.pyc.124664354775088" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.620419+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.618:828): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_esm_cache" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/exceptions.cpython-312.pyc.124664355221040" pid=53111 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.623412+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.621:829): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_apt_news" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/event_logger.cpython-312.pyc.138947957741616" pid=53110 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
2025-10-21T11:14:39.624415+00:00 eltex-practice2-pg1-v9 kernel: audit: type=1400 audit(1761045279.622:830): apparmor="DENIED" operation="mknod" class="file" profile="ubuntu_pro_apt_news" name="/usr/lib/python3/dist-packages/uaclient/__pycache__/yaml.cpython-312.pyc.138947947022512" pid=53110 comm="python3" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# echo ""n"e"n"[1P"[1P"[1P"т"у"т" "т"о"ж"е" "м"о"ж"н"о" "п"о"-"р"а"з"н"о"м"у" "[1P":"[C
[?2004lтут тоже можно по-разному:
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# wak ''E'N'D' '{'}'p}'r}'i}'n}'t}' }'N}'R}'[C[C /var/log/kern.log[C[1P[C[1@w
[?2004l34
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# 
[?2004l[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# sed -n ""[K[K''$'='[C /var/log/kern.log
[?2004l34
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# wc -l /var/log/kern.log
[?2004l34 /var/log/kern.log
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# echo ""a"w"k" "b" "[1P"[1P"и" "s"e"d" "к"о"н"е"ч"н"о" "м"н"[1P"е"д"л"е"н"е"е" "т"к" "ч"и"т"а"е"т" "в"с"е" "с"т"р"о"к"и"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"[1P"
[?2004lawk и sed конечно медленее
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# ефш[K[K[Ktail -10[K[K5 /var/log/apt/history.log
[?2004l
Start-Date: 2025-10-17  08:28:23
Commandline: apt install bzip2 p7zip-full -y
Install: bzip2:amd64 (1.0.8-5.1build0.1), p7zip-full:amd64 (16.02+transitional.1), 7zip:amd64 (23.01+dfsg-11, automatic)
End-Date: 2025-10-17  08:28:30
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mtail -5 /var/log/apt/history.log[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ctail -5 /var/log/apt/history.log[1P /var/log/apt/history.log1 /var/log/apt/history.log0 /var/log/apt/history.log
[?2004l
Start-Date: 2025-10-16  07:14:48
Commandline: /usr/bin/unattended-upgrade
Upgrade: sudo:amd64 (1.9.15p5-3ubuntu5, 1.9.15p5-3ubuntu5.24.04.1)
End-Date: 2025-10-16  07:18:17

Start-Date: 2025-10-17  08:28:23
Commandline: apt install bzip2 p7zip-full -y
Install: bzip2:amd64 (1.0.8-5.1build0.1), p7zip-full:amd64 (16.02+transitional.1), 7zip:amd64 (23.01+dfsg-11, automatic)
End-Date: 2025-10-17  08:28:30
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# фц[K[Kawk //[K[K''/'^'C'o'm'm'a'n'd'l'i'n'e':'\'[1P'/'[C {}c}m}d} }=} }$}0}[C /^Start-Date:/ {}s}t}a}r}t} }=} }$}0}[C / ^End-Date:/ {}e}n}d} }=} }$}0}[C; print ""C"o"m"m"a"n"d"l"i"n"e":" "[C cms[Kd '[K" :[K; ' start " ;"[K '[K" end; cma[Kd=''[K[K""; start=""; en d=""'[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; ' start " ; " end; cmd=""; start=""; end=[1P""'[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C
[C[C[C[C /var/log/apt/hustory[1Pstoryistory[C[C[C[C[C.log
[?2004l[?2004h> ^C[?2004l[?2004h[?2004l
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^[27m[7mE[27m[7mnd-Date:/ {end = $0}; print "Commandline: " cmd " ; ' start " ; " end; cmd=""; start=""; end[27m[7m=[27m[7m""' /var/log/apt/history.log[27m[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# awk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; ' start " ; " end; cmd=""; start=""; end=""' /var/log/apt/history.log[1@}
[?2004l[?2004h> ^C[?2004l[?2004h[?2004l
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^[27m[7mE[27m[7mnd-Date:/ {end = $0}; print "Commandline: " cmd " ; ' start " ; " end; cmd=""; start=""; end[27m[7m=[27m[7m""}' /var/log/apt/history.log [27m
[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; ' start " ; " end; cmd=""; start=""; end=""}' /var/log/apt/history.log[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C start " ; " end; cmd=""; start=""; end="[C[1P[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C" start " ; " end; cmd=""; start=""; end=[C[1@"[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004lawk: cmd. line:1: /^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""}
awk: cmd. line:1:                                                                                 ^ syntax error
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^[27m[7mE[27m[7mnd-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end[27m[7m=[27m[7m""}' /var/log/apt/history.log [27m
[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""}' /var/log/apt/history.log[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end="[C[1P[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""[1P[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""}[1P[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cc = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""[1@}[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cm = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end="[1@"[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=[C[1@"[A[A]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C


[?2004lawk: cmd. line:1: /^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""}
awk: cmd. line:1:                                                                                 ^ syntax error
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# [7mawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^[27m[7mE[27m[7mnd-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end[27m[7m=[27m[7m""}' /var/log/apt/history.log [27m
[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cawk '/^Commandline:/ {cmd = $0} /^Start-Date:/ {start = $0} /^End-Date:/ {end = $0}; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end=""}' /var/log/apt/history.log[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C; print "Commandline: " cmd " ; " start " ; " end; cmd=""; start=""; end="[C[1P[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C

[?2004lCommandline: Commandline: apt-get install --reinstall apt ; Start-Date: 2025-02-16  20:51:22 ; End-Date: 2025-02-16  20:51:24
Commandline: Commandline: apt-get install --reinstall base-files ; Start-Date: 2025-02-16  20:51:26 ; End-Date: 2025-02-16  20:51:28
Commandline: Commandline: apt-get install --reinstall base-passwd ; Start-Date: 2025-02-16  20:51:31 ; End-Date: 2025-02-16  20:51:32
Commandline: Commandline: apt-get install --reinstall bash ; Start-Date: 2025-02-16  20:51:35 ; End-Date: 2025-02-16  20:51:37
Commandline: Commandline: apt-get install --reinstall bsdutils ; Start-Date: 2025-02-16  20:51:39 ; End-Date: 2025-02-16  20:51:41
Commandline: Commandline: apt-get install --reinstall coreutils ; Start-Date: 2025-02-16  20:51:44 ; End-Date: 2025-02-16  20:51:45
Commandline: Commandline: apt-get install --reinstall dash ; Start-Date: 2025-02-16  20:51:48 ; End-Date: 2025-02-16  20:51:49
Commandline: Commandline: apt-get install --reinstall debconf ; Start-Date: 2025-02-16  20:51:52 ; End-Date: 2025-02-16  20:51:53
Commandline: Commandline: apt-get install --reinstall debianutils ; Start-Date: 2025-02-16  20:51:56 ; End-Date: 2025-02-16  20:51:58
Commandline: Commandline: apt-get install --reinstall diffutils ; Start-Date: 2025-02-16  20:52:00 ; End-Date: 2025-02-16  20:52:02
Commandline: Commandline: apt-get install --reinstall dpkg ; Start-Date: 2025-02-16  20:52:04 ; End-Date: 2025-02-16  20:52:06
Commandline: Commandline: apt-get install --reinstall e2fsprogs ; Start-Date: 2025-02-16  20:52:09 ; End-Date: 2025-02-16  20:52:10
Commandline: Commandline: apt-get install --reinstall findutils ; Start-Date: 2025-02-16  20:52:13 ; End-Date: 2025-02-16  20:52:14
Commandline: Commandline: apt-get install --reinstall gcc-14-base:amd64 ; Start-Date: 2025-02-16  20:52:17 ; End-Date: 2025-02-16  20:52:18
Commandline: Commandline: apt-get install --reinstall gpgv ; Start-Date: 2025-02-16  20:52:21 ; End-Date: 2025-02-16  20:52:23
Commandline: Commandline: apt-get install --reinstall grep ; Start-Date: 2025-02-16  20:52:25 ; End-Date: 2025-02-16  20:52:27
Commandline: Commandline: apt-get install --reinstall gzip ; Start-Date: 2025-02-16  20:52:29 ; End-Date: 2025-02-16  20:52:31
Commandline: Commandline: apt-get install --reinstall hostname ; Start-Date: 2025-02-16  20:52:34 ; End-Date: 2025-02-16  20:52:35
Commandline: Commandline: apt-get install --reinstall init-system-helpers ; Start-Date: 2025-02-16  20:52:38 ; End-Date: 2025-02-16  20:52:39
Commandline: Commandline: apt-get install --reinstall libacl1:amd64 ; Start-Date: 2025-02-16  20:52:42 ; End-Date: 2025-02-16  20:52:43
Commandline: Commandline: apt-get install --reinstall libapt-pkg6.0t64:amd64 ; Start-Date: 2025-02-16  20:52:46 ; End-Date: 2025-02-16  20:52:47
Commandline: Commandline: apt-get install --reinstall libassuan0:amd64 ; Start-Date: 2025-02-16  20:52:50 ; End-Date: 2025-02-16  20:52:51
Commandline: Commandline: apt-get install --reinstall libattr1:amd64 ; Start-Date: 2025-02-16  20:52:54 ; End-Date: 2025-02-16  20:52:56
Commandline: Commandline: apt-get install --reinstall libaudit-common ; Start-Date: 2025-02-16  20:52:58 ; End-Date: 2025-02-16  20:53:00
Commandline: Commandline: apt-get install --reinstall libaudit1:amd64 ; Start-Date: 2025-02-16  20:53:02 ; End-Date: 2025-02-16  20:53:04
Commandline: Commandline: apt-get install --reinstall libblkid1:amd64 ; Start-Date: 2025-02-16  20:53:06 ; End-Date: 2025-02-16  20:53:08
Commandline: Commandline: apt-get install --reinstall libbz2-1.0:amd64 ; Start-Date: 2025-02-16  20:53:11 ; End-Date: 2025-02-16  20:53:12
Commandline: Commandline: apt-get install --reinstall libc-bin ; Start-Date: 2025-02-16  20:53:15 ; End-Date: 2025-02-16  20:53:17
Commandline: Commandline: apt-get install --reinstall libc6:amd64 ; Start-Date: 2025-02-16  20:53:19 ; End-Date: 2025-02-16  20:53:22
Commandline: Commandline: apt-get install --reinstall libcap-ng0:amd64 ; Start-Date: 2025-02-16  20:53:25 ; End-Date: 2025-02-16  20:53:26
Commandline: Commandline: apt-get install --reinstall libcap2:amd64 ; Start-Date: 2025-02-16  20:53:29 ; End-Date: 2025-02-16  20:53:30
Commandline: Commandline: apt-get install --reinstall libcom-err2:amd64 ; Start-Date: 2025-02-16  20:53:33 ; End-Date: 2025-02-16  20:53:34
Commandline: Commandline: apt-get install --reinstall libcrypt1:amd64 ; Start-Date: 2025-02-16  20:53:37 ; End-Date: 2025-02-16  20:53:38
Commandline: Commandline: apt-get install --reinstall libdebconfclient0:amd64 ; Start-Date: 2025-02-16  20:53:41 ; End-Date: 2025-02-16  20:53:42
Commandline: Commandline: apt-get install --reinstall libext2fs2t64:amd64 ; Start-Date: 2025-02-16  20:53:45 ; End-Date: 2025-02-16  20:53:46
Commandline: Commandline: apt-get install --reinstall libffi8:amd64 ; Start-Date: 2025-02-16  20:53:49 ; End-Date: 2025-02-16  20:53:50
Commandline: Commandline: apt-get install --reinstall libgcc-s1:amd64 ; Start-Date: 2025-02-16  20:53:53 ; End-Date: 2025-02-16  20:53:54
Commandline: Commandline: apt-get install --reinstall libgcrypt20:amd64 ; Start-Date: 2025-02-16  20:53:57 ; End-Date: 2025-02-16  20:53:59
Commandline: Commandline: apt-get install --reinstall libgmp10:amd64 ; Start-Date: 2025-02-16  20:54:01 ; End-Date: 2025-02-16  20:54:03
Commandline: Commandline: apt-get install --reinstall libgnutls30t64:amd64 ; Start-Date: 2025-02-16  20:54:05 ; End-Date: 2025-02-16  20:54:07
Commandline: Commandline: apt-get install --reinstall libgpg-error0:amd64 ; Start-Date: 2025-02-16  20:54:10 ; End-Date: 2025-02-16  20:54:11
Commandline: Commandline: apt-get install --reinstall libhogweed6t64:amd64 ; Start-Date: 2025-02-16  20:54:14 ; End-Date: 2025-02-16  20:54:15
Commandline: Commandline: apt-get install --reinstall libidn2-0:amd64 ; Start-Date: 2025-02-16  20:54:18 ; End-Date: 2025-02-16  20:54:19
Commandline: Commandline: apt-get install --reinstall liblz4-1:amd64 ; Start-Date: 2025-02-16  20:54:22 ; End-Date: 2025-02-16  20:54:23
Commandline: Commandline: apt-get install --reinstall liblzma5:amd64 ; Start-Date: 2025-02-16  20:54:26 ; End-Date: 2025-02-16  20:54:27
Commandline: Commandline: apt-get install --reinstall libmd0:amd64 ; Start-Date: 2025-02-16  20:54:30 ; End-Date: 2025-02-16  20:54:32
Commandline: Commandline: apt-get install --reinstall libmount1:amd64 ; Start-Date: 2025-02-16  20:54:34 ; End-Date: 2025-02-16  20:54:36
Commandline: Commandline: apt-get install --reinstall libncursesw6:amd64 ; Start-Date: 2025-02-16  20:54:38 ; End-Date: 2025-02-16  20:54:39
Commandline: Commandline: apt-get install --reinstall libnettle8t64:amd64 ; Start-Date: 2025-02-16  20:54:42 ; End-Date: 2025-02-16  20:54:43
Commandline: Commandline: apt-get install --reinstall libnpth0t64:amd64 ; Start-Date: 2025-02-16  20:54:46 ; End-Date: 2025-02-16  20:54:48
Commandline: Commandline: apt-get install --reinstall libp11-kit0:amd64 ; Start-Date: 2025-02-16  20:54:50 ; End-Date: 2025-02-16  20:54:52
Commandline: Commandline: apt-get install --reinstall libpam-modules:amd64 ; Start-Date: 2025-02-16  20:54:54 ; End-Date: 2025-02-16  20:54:56
Commandline: Commandline: apt-get install --reinstall libpam-modules-bin ; Start-Date: 2025-02-16  20:54:58 ; End-Date: 2025-02-16  20:55:00
Commandline: Commandline: apt-get install --reinstall libpam-runtime ; Start-Date: 2025-02-16  20:55:03 ; End-Date: 2025-02-16  20:55:04
Commandline: Commandline: apt-get install --reinstall libpam0g:amd64 ; Start-Date: 2025-02-16  20:55:07 ; End-Date: 2025-02-16  20:55:08
Commandline: Commandline: apt-get install --reinstall libpcre2-8-0:amd64 ; Start-Date: 2025-02-16  20:55:11 ; End-Date: 2025-02-16  20:55:12
Commandline: Commandline: apt-get install --reinstall libproc2-0:amd64 ; Start-Date: 2025-02-16  20:55:15 ; End-Date: 2025-02-16  20:55:16
Commandline: Commandline: apt-get install --reinstall libseccomp2:amd64 ; Start-Date: 2025-02-16  20:55:19 ; End-Date: 2025-02-16  20:55:20
Commandline: Commandline: apt-get install --reinstall libselinux1:amd64 ; Start-Date: 2025-02-16  20:55:23 ; End-Date: 2025-02-16  20:55:24
Commandline: Commandline: apt-get install --reinstall libsemanage-common ; Start-Date: 2025-02-16  20:55:27 ; End-Date: 2025-02-16  20:55:28
Commandline: Commandline: apt-get install --reinstall libsemanage2:amd64 ; Start-Date: 2025-02-16  20:55:31 ; End-Date: 2025-02-16  20:55:32
Commandline: Commandline: apt-get install --reinstall libsepol2:amd64 ; Start-Date: 2025-02-16  20:55:35 ; End-Date: 2025-02-16  20:55:36
Commandline: Commandline: apt-get install --reinstall libsmartcols1:amd64 ; Start-Date: 2025-02-16  20:55:38 ; End-Date: 2025-02-16  20:55:40
Commandline: Commandline: apt-get install --reinstall libss2:amd64 ; Start-Date: 2025-02-16  20:55:42 ; End-Date: 2025-02-16  20:55:44
Commandline: Commandline: apt-get install --reinstall libssl3t64:amd64 ; Start-Date: 2025-02-16  20:55:46 ; End-Date: 2025-02-16  20:55:48
Commandline: Commandline: apt-get install --reinstall libstdc++6:amd64 ; Start-Date: 2025-02-16  20:55:51 ; End-Date: 2025-02-16  20:55:52
Commandline: Commandline: apt-get install --reinstall libsystemd0:amd64 ; Start-Date: 2025-02-16  20:55:55 ; End-Date: 2025-02-16  20:55:56
Commandline: Commandline: apt-get install --reinstall libtasn1-6:amd64 ; Start-Date: 2025-02-16  20:55:59 ; End-Date: 2025-02-16  20:56:00
Commandline: Commandline: apt-get install --reinstall libtinfo6:amd64 ; Start-Date: 2025-02-16  20:56:03 ; End-Date: 2025-02-16  20:56:04
Commandline: Commandline: apt-get install --reinstall libudev1:amd64 ; Start-Date: 2025-02-16  20:56:07 ; End-Date: 2025-02-16  20:56:08
Commandline: Commandline: apt-get install --reinstall libunistring5:amd64 ; Start-Date: 2025-02-16  20:56:11 ; End-Date: 2025-02-16  20:56:13
Commandline: Commandline: apt-get install --reinstall libuuid1:amd64 ; Start-Date: 2025-02-16  20:56:15 ; End-Date: 2025-02-16  20:56:17
Commandline: Commandline: apt-get install --reinstall libxxhash0:amd64 ; Start-Date: 2025-02-16  20:56:19 ; End-Date: 2025-02-16  20:56:21
Commandline: Commandline: apt-get install --reinstall libzstd1:amd64 ; Start-Date: 2025-02-16  20:56:23 ; End-Date: 2025-02-16  20:56:25
Commandline: Commandline: apt-get install --reinstall login ; Start-Date: 2025-02-16  20:56:28 ; End-Date: 2025-02-16  20:56:29
Commandline: Commandline: apt-get install --reinstall logsave ; Start-Date: 2025-02-16  20:56:32 ; End-Date: 2025-02-16  20:56:33
Commandline: Commandline: apt-get install --reinstall mawk ; Start-Date: 2025-02-16  20:56:36 ; End-Date: 2025-02-16  20:56:37
Commandline: Commandline: apt-get install --reinstall mount ; Start-Date: 2025-02-16  20:56:39 ; End-Date: 2025-02-16  20:56:41
Commandline: Commandline: apt-get install --reinstall ncurses-base ; Start-Date: 2025-02-16  20:56:43 ; End-Date: 2025-02-16  20:56:45
Commandline: Commandline: apt-get install --reinstall ncurses-bin ; Start-Date: 2025-02-16  20:56:47 ; End-Date: 2025-02-16  20:56:49
Commandline: Commandline: apt-get install --reinstall passwd ; Start-Date: 2025-02-16  20:56:52 ; End-Date: 2025-02-16  20:56:53
Commandline: Commandline: apt-get install --reinstall perl-base ; Start-Date: 2025-02-16  20:56:55 ; End-Date: 2025-02-16  20:56:57
Commandline: Commandline: apt-get install --reinstall procps ; Start-Date: 2025-02-16  20:57:00 ; End-Date: 2025-02-16  20:57:01
Commandline: Commandline: apt-get install --reinstall sed ; Start-Date: 2025-02-16  20:57:04 ; End-Date: 2025-02-16  20:57:05
Commandline: Commandline: apt-get install --reinstall sensible-utils ; Start-Date: 2025-02-16  20:57:08 ; End-Date: 2025-02-16  20:57:09
Commandline: Commandline: apt-get install --reinstall sysvinit-utils ; Start-Date: 2025-02-16  20:57:12 ; End-Date: 2025-02-16  20:57:13
Commandline: Commandline: apt-get install --reinstall tar ; Start-Date: 2025-02-16  20:57:16 ; End-Date: 2025-02-16  20:57:17
Commandline: Commandline: apt-get install --reinstall ubuntu-keyring ; Start-Date: 2025-02-16  20:57:20 ; End-Date: 2025-02-16  20:57:21
Commandline: Commandline: apt-get install --reinstall util-linux ; Start-Date: 2025-02-16  20:57:24 ; End-Date: 2025-02-16  20:57:26
Commandline: Commandline: apt-get install --reinstall zlib1g:amd64 ; Start-Date: 2025-02-16  20:57:28 ; End-Date: 2025-02-16  20:57:30
Commandline: Commandline: apt-get --yes -oDebug::pkgDepCache::AutoInstall=yes --force-yes upgrade ; Start-Date: 2025-02-16  20:57:34 ; End-Date: 2025-02-16  20:57:38
Commandline: Commandline: apt-get --yes -oDebug::pkgDepCache::AutoInstall=yes --force-yes dist-upgrade ; Start-Date: 2025-02-16  20:57:39 ; End-Date: 2025-02-16  20:57:39
Commandline: Commandline: apt-get --yes -oDebug::pkgDepCache::AutoInstall=yes install adduser apparmor apport apport-core-dump-handler apt base-passwd bcache-tools btrfs-progs busybox-initramfs ca-certificates cloud-guest-utils cloud-init coreutils cpio cryptsetup cryptsetup-bin curl dbus dbus-bin dbus-daemon dbus-session-bus-common dbus-system-bus-common dbus-user-session debconf dhcpcd-base distro-info-data dmeventd dmsetup dpkg dracut-install e2fsprogs ethtool fdisk fuse3 gawk gcc-14-base gettext-base gir1.2-girepository-2.0 gir1.2-glib-2.0 gpgv init-system-helpers initramfs-tools initramfs-tools-bin initramfs-tools-core iproute2 klibc-utils kmod kpartx libacl1 libaio1t64 libapparmor1 libapt-pkg6.0t64 libargon2-1 libassuan0 libattr1 libaudit-common libaudit1 libblkid1 libbpf1 libbrotli1 libbsd0 libbz2-1.0 libc6 libcap-ng0 libcap2 libcap2-bin libcbor0.10 libcom-err2 libcrypt1 libcryptsetup12 libcurl4t64 libdb5.3t64 libdbus-1-3 libdebconfclient0 libdevmapper-event1.02.1 libdevmapper1.02.1 libdrm-common libdrm2 libedit2 libelf1t64 libexpat1 libext2fs2t64 libfdisk1 libffi8 libfido2-1 libfuse3-3 libgcc-s1 libgcrypt20 libgdbm-compat4t64 libgdbm6t64 libgirepository-1.0-1 libglib2.0-0t64 libgmp10 libgnutls30t64 libgpg-error0 libgssapi-krb5-2 libhogweed6t64 libicu74 libidn2-0 libinih1 libintl-perl libisns0t64 libjson-c5 libk5crypto3 libkeyutils1 libklibc libkmod2 libkrb5-3 libkrb5support0 libldap2 liblvm2cmd2.03 liblz4-1 liblzma5 liblzo2-2 libmd0 libmnl0 libmodule-find-perl libmodule-scandeps-perl libmount1 libmpfr6 libncursesw6 libnetplan1 libnettle8t64 libnghttp2-14 libnpth0t64 libopeniscsiusr libp11-kit0 libpam-modules libpam-modules-bin libpam-runtime libpam-systemd libpam0g libpci3 libpcre2-8-0 libperl5.38t64 libpopt0 libproc-processtable-perl libproc2-0 libpsl5t64 libpython3-stdlib libpython3.12-minimal libpython3.12-stdlib libreadline8t64 libreiserfscore0t64 librtmp1 libsasl2-2 libsasl2-modules-db libseccomp2 libselinux1 libsemanage-common libsemanage2 libsepol2 libsgutils2-1.46-2 libsigsegv2 libsmartcols1 libsort-naturally-perl libsqlite3-0 libss2 libssh-4 libssl3t64 libstdc++6 libsystemd-shared libsystemd0 libtasn1-6 libterm-readkey-perl libtinfo6 libtirpc-common libtirpc3t64 libudev1 libunistring5 liburcu8t64 libusb-1.0-0 libuuid1 libxtables12 libxxhash0 libyaml-0-2 libzstd1 linux-base logsave lsb-base lsb-release lvm2 mdadm media-types mount multipath-tools needrestart netbase netplan-generator netplan.io open-iscsi openssh-client openssl passwd pci.ids pciutils perl perl-base perl-modules-5.38 pollinate procps python-apt-common python3 python3-apport python3-apt python3-attr python3-blinker python3-certifi python3-cffi-backend python3-chardet python3-click python3-colorama python3-configobj python3-cryptography python3-dbus python3-debconf python3-distro python3-distro-info python3-distupgrade python3-gi python3-httplib2 python3-idna python3-jinja2 python3-json-pointer python3-jsonpatch python3-jsonschema python3-jwt python3-launchpadlib python3-lazr.restfulclient python3-lazr.uri python3-markupsafe python3-minimal python3-netplan python3-oauthlib python3-pkg-resources python3-problem-report python3-pyparsing python3-pyrsistent python3-requests python3-serial python3-six python3-update-manager python3-urllib3 python3-wadllib python3-xkit python3-yaml python3.12 python3.12-minimal readline-common sed sensible-utils sg3-utils sg3-utils-udev snapd squashfs-tools sudo systemd systemd-dev systemd-resolved systemd-sysv sysvinit-utils tar tzdata ubuntu-drivers-common ubuntu-keyring ubuntu-release-upgrader-core ubuntu-server-minimal ucf udev unattended-upgrades unminimize usbutils xfsprogs xxd xz-utils zlib1g lxd-installer ; Start-Date: 2025-02-16  20:57:42 ; End-Date: 2025-02-16  20:58:20
Commandline: Commandline: apt-get install --reinstall -y gdisk zstd unattended-upgrades xfsprogs multipath-tools kpartx cloud-init squashfs-tools sg3-utils pollinate packagekit-tools polkitd xml-core needrestart mdadm lvm2 libterm-readkey-perl libsort-naturally-perl libproc-processtable-perl:amd64 libmodule-scandeps-perl libmodule-find-perl libldap-common libintl-xs-perl libintl-perl libglib2.0-bin gpg-wks-client gnupg keyboxd gpgsm gpg-agent pinentry-curses gpg gnupg-utils finalrd fdisk eatmydata dmeventd dirmngr gpgconf curl initramfs-tools linux-base initramfs-tools-core cryptsetup cryptsetup-bin btrfs-progs bcache-tools appstream libsasl2-2:amd64 xz-utils xauth ubuntu-release-upgrader-core plymouth openssh-client libx11-data libedit2:amd64 groff-base gettext-base fuse3 cpio apparmor xxd xdg-user-dirs ucf systemd-timesyncd systemd-resolved sudo shared-mime-info python3-pygments networkd-dispatcher netplan.io cloud-guest-utils thin-provisioning-tools software-properties-common snapd iproute2 libcap2-bin libtirpc-common libpam-systemd:amd64 coreutils ncurses-bin mawk libsemanage-common bash base-passwd tar sysvinit-utils sensible-utils sed apt init-system-helpers hostname gzip grep gpgv findutils diffutils debconf debianutils dash adduser kmod usbutils pciutils sgml-base perl libperl5.38t64:amd64 dmsetup dhcpcd-base open-iscsi udev gawk python3-chardet lsb-release dbus-daemon dbus-bin systemd-sysv systemd python3 python3.12 readline-common ethtool netplan-generator libpam-cap:amd64 libnss-systemd:amd64 console-setup keyboard-configuration xkb-data liblocale-gettext-perl kbd ca-certificates openssl libpam-modules:amd64 python3-minimal python3.12-minimal procps passwd libpam-modules-bin logsave libpam-runtime libaudit-common mount e2fsprogs util-linux perl-base bsdutils apport libc-bin base-files login dpkg ; Start-Date: 2025-02-16  20:58:40 ; End-Date: 2025-02-16  20:59:23
Commandline: Commandline: apt-get install --reinstall -y cryptsetup-initramfs dbus dbus-session-bus-common dbus-system-bus-common distro-info-data dracut-install gcc-14-base:amd64 gnupg-l10n iso-codes libapt-pkg6.0t64:amd64 libc6:amd64 libcbor0.10:amd64 libcryptsetup12:amd64 libdb5.3t64:amd64 libdbus-1-3:amd64 libexpat1:amd64 libfuse3-3:amd64 libgcrypt20:amd64 libglib2.0-0t64:amd64 libgmp10:amd64 libgnutls30t64:amd64 libgpg-error0:amd64 libidn2-0:amd64 libjson-c5:amd64 libklibc:amd64 libkrb5-3:amd64 libksba8:amd64 libldap2:amd64 liblzma5:amd64 liblzo2-2:amd64 libmpfr6:amd64 libnettle8t64:amd64 libnghttp2-14:amd64 libopeniscsiusr libp11-kit0:amd64 libpam0g:amd64 libpcre2-8-0:amd64 libpng16-16t64:amd64 libpolkit-gobject-1-0:amd64 libpopt0:amd64 libproc2-0:amd64 libpython3-stdlib:amd64 libpython3.12-minimal:amd64 libreadline8t64:amd64 libsigsegv2:amd64 libsqlite3-0:amd64 libssh-4:amd64 libstemmer0d:amd64 libsystemd-shared:amd64 libsystemd0:amd64 libtasn1-6:amd64 libtirpc3t64:amd64 libudev1:amd64 libusb-1.0-0:amd64 libxml2:amd64 libxtables12:amd64 lsb-base ncurses-base packagekit perl-modules-5.38 publicsuffix python3-babel python3-certifi python3-colorama python3-dbus python3-gi python3-httplib2 python3-json-pointer python3-jsonpatch python3-jwt python3-launchpadlib python3-lazr.restfulclient python3-lazr.uri python3-markdown-it python3-oauthlib python3-pkg-resources python3-requests python3-rich python3-serial python3-software-properties python3-tz python3-wadllib python3-yaml systemd-dev tzdata ubuntu-drivers-common ; Start-Date: 2025-02-16  20:59:26 ; End-Date: 2025-02-16  20:59:43
Commandline: Commandline: apt-get install -y ubuntu-minimal ubuntu-standard ; Start-Date: 2025-02-16  20:59:50 ; End-Date: 2025-02-16  21:00:01
Commandline: Commandline: apt-get -y --fix-policy install ; Start-Date: 2025-02-16  21:00:04 ; End-Date: 2025-02-16  21:00:04
Commandline: Commandline: apt-get --yes -oDebug::pkgDepCache::AutoInstall=yes install adduser apparmor apport apport-core-dump-handler apport-symptoms appstream apt apt-utils base-files base-passwd bash bash-completion bc bcache-tools bind9-dnsutils bind9-host bind9-libs bolt bsdextrautils bsdutils btrfs-progs busybox-initramfs busybox-static byobu ca-certificates cloud-guest-utils cloud-initramfs-copymods cloud-initramfs-dyn-netconf command-not-found console-setup console-setup-linux coreutils cpio cron cron-daemon-common cryptsetup cryptsetup-bin cryptsetup-initramfs curl dash dbus dbus-bin dbus-daemon dbus-session-bus-common dbus-system-bus-common dbus-user-session debconf debconf-i18n debianutils dhcpcd-base diffutils dirmngr distro-info distro-info-data dmeventd dmidecode dmsetup dosfstools dpkg dracut-install e2fsprogs ed eject ethtool fdisk file finalrd findutils fonts-ubuntu-console friendly-recovery ftp fuse3 fwupd fwupd-signed gawk gcc-14-base gdisk gettext-base gir1.2-girepository-2.0 gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 git git-man gnupg gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpgconf gpgsm gpgv grep groff-base gzip hdparm hostname htop ibverbs-providers inetutils-telnet info init init-system-helpers initramfs-tools initramfs-tools-bin initramfs-tools-core install-info iproute2 iptables iputils-ping iputils-tracepath iso-codes jq kbd keyboard-configuration keyboxd klibc-utils kmod kpartx krb5-locales landscape-common less libacl1 libaio1t64 libapparmor1 libappstream5 libapt-pkg6.0t64 libarchive13t64 libargon2-1 libassuan0 libatasmart4 libatm1t64 libattr1 libaudit-common libaudit1 libblkid1 libblockdev-crypto3 libblockdev-fs3 libblockdev-loop3 libblockdev-mdraid3 libblockdev-nvme3 libblockdev-part3 libblockdev-swap3 libblockdev-utils3 libblockdev3 libbpf1 libbrotli1 libbsd0 libbytesize-common libbytesize1 libbz2-1.0 libc-bin libc6 libcap-ng0 libcap2 libcap2-bin libcbor0.10 libcom-err2 libcrypt1 libcryptsetup12 libcurl3t64-gnutls libcurl4t64 libdb5.3t64 libdbus-1-3 libdebconfclient0 libdevmapper-event1.02.1 libdevmapper1.02.1 libdrm-common libdrm2 libduktape207 libdw1t64 libedit2 libelf1t64 liberror-perl libestr0 libevdev2 libevent-core-2.1-7t64 libexpat1 libext2fs2t64 libfastjson4 libfdisk1 libffi8 libfido2-1 libflashrom1 libfribidi0 libftdi1-2 libfuse3-3 libfwupd2 libgcc-s1 libgcrypt20 libgdbm-compat4t64 libgdbm6t64 libgirepository-1.0-1 libglib2.0-0t64 libglib2.0-bin libglib2.0-data libgmp10 libgnutls30t64 libgpg-error0 libgpgme11t64 libgpm2 libgssapi-krb5-2 libgstreamer1.0-0 libgudev-1.0-0 libgusb2 libhogweed6t64 libibverbs1 libicu74 libidn2-0 libinih1 libintl-perl libintl-xs-perl libip4tc2 libip6tc2 libisns0t64 libjansson4 libjcat1 libjq1 libjson-c5 libjson-glib-1.0-0 libjson-glib-1.0-common libk5crypto3 libkeyutils1 libklibc libkmod2 libkrb5-3 libkrb5support0 libksba8 libldap-common libldap2 liblmdb0 liblocale-gettext-perl liblvm2cmd2.03 liblz4-1 liblzma5 liblzo2-2 libmagic-mgc libmagic1t64 libmaxminddb0 libmbim-glib4 libmbim-proxy libmbim-utils libmd0 libmm-glib0 libmnl0 libmodule-find-perl libmodule-scandeps-perl libmount1 libmpfr6 libmspack0t64 libncurses6 libncursesw6 libnetfilter-conntrack3 libnetplan1 libnettle8t64 libnewt0.52 libnfnetlink0 libnftables1 libnftnl11 libnghttp2-14 libnl-3-200 libnl-genl-3-200 libnl-route-3-200 libnpth0t64 libnspr4 libnss-systemd libnss3 libntfs-3g89t64 libnuma1 libnvme1t64 libonig5 libopeniscsiusr libp11-kit0 libpackagekit-glib2-18 libpam-cap libpam-modules libpam-modules-bin libpam-runtime libpam-systemd libpam0g libparted2t64 libpcap0.8t64 libpci3 libpcre2-8-0 libperl5.38t64 libpipeline1 libplymouth5 libpng16-16t64 libpolkit-agent-1-0 libpolkit-gobject-1-0 libpopt0 libproc-processtable-perl libproc2-0 libprotobuf-c1 libpsl5t64 libpython3-stdlib libpython3.12-minimal libpython3.12-stdlib libpython3.12t64 libqmi-glib5 libqmi-proxy libqmi-utils libqrtr-glib0 libreadline8t64 libreiserfscore0t64 librtmp1 libsasl2-2 libsasl2-modules libsasl2-modules-db libseccomp2 libselinux1 libsemanage-common libsemanage2 libsensors-config libsensors5 libsepol2 libsgutils2-1.46-2 libsigsegv2 libslang2 libsmartcols1 libsodium23 libsort-naturally-perl libsqlite3-0 libss2 libssh-4 libssl3t64 libstdc++6 libstemmer0d libsystemd-shared libsystemd0 libtasn1-6 libtcl8.6 libterm-readkey-perl libtext-charwidth-perl libtext-iconv-perl libtext-wrapi18n-perl libtinfo6 libtirpc-common libtirpc3t64 libtraceevent1 libtraceevent1-plugin libtracefs1 libtss2-esys-3.0.2-0t64 libtss2-mu-4.0.1-0t64 libtss2-sys1t64 libtss2-tcti-cmd0t64 libtss2-tcti-device0t64 libtss2-tcti-mssim0t64 libtss2-tcti-swtpm0t64 libuchardet0 libudev1 libudisks2-0 libunistring5 libunwind8 liburcu8t64 libusb-1.0-0 libutempter0 libuuid1 libuv1t64 libvolume-key1 libx11-6 libx11-data libxau6 libxcb1 libxdmcp6 libxext6 libxkbcommon0 libxml2 libxmlb2 libxmlsec1t64 libxmlsec1t64-openssl libxmuu1 libxslt1.1 libxtables12 libxxhash0 libyaml-0-2 libzstd1 linux-base locales login logrotate logsave lsb-release lshw lsof lvm2 lxd-agent-loader lxd-installer man-db manpages mawk mdadm media-types modemmanager motd-news-config mount mtr-tiny multipath-tools nano ncurses-base ncurses-bin needrestart netbase netcat-openbsd netplan-generator netplan.io networkd-dispatcher nftables ntfs-3g numactl open-iscsi open-vm-tools openssh-client openssl overlayroot packagekit packagekit-tools parted passwd pastebinit patch pci.ids pciutils perl perl-base perl-modules-5.38 pinentry-curses plymouth plymouth-theme-ubuntu-text polkitd pollinate powermgmt-base procps psmisc publicsuffix python-apt-common python3 python3-apport python3-apt python3-attr python3-automat python3-bcrypt python3-blinker python3-boto3 python3-botocore python3-certifi python3-cffi-backend python3-chardet python3-click python3-colorama python3-commandnotfound python3-configobj python3-constantly python3-cryptography python3-dateutil python3-dbus python3-debconf python3-debian python3-distro python3-distro-info python3-distupgrade python3-gdbm python3-gi python3-hamcrest python3-httplib2 python3-hyperlink python3-idna python3-incremental python3-jmespath python3-jwt python3-launchpadlib python3-lazr.restfulclient python3-lazr.uri python3-magic python3-markdown-it python3-mdurl python3-minimal python3-netifaces python3-netplan python3-newt python3-oauthlib python3-openssl python3-packaging python3-pexpect python3-pkg-resources python3-problem-report python3-ptyprocess python3-pyasn1 python3-pyasn1-modules python3-pygments python3-pyparsing python3-requests python3-rich python3-s3transfer python3-service-identity python3-setuptools python3-six python3-software-properties python3-systemd python3-twisted python3-update-manager python3-urllib3 python3-wadllib python3-yaml python3-zope.interface python3.12 python3.12-minimal readline-common rsync rsyslog run-one sbsigntool screen secureboot-db sed sensible-utils sg3-utils sg3-utils-udev sgml-base shared-mime-info snapd software-properties-common sosreport squashfs-tools strace sudo sysstat systemd systemd-dev systemd-hwe-hwdb systemd-resolved systemd-sysv systemd-timesyncd sysvinit-utils tar tcl tcl8.6 tcpdump telnet thin-provisioning-tools time tmux tnftp tpm-udev trace-cmd tzdata ubuntu-keyring ubuntu-minimal ubuntu-pro-client ubuntu-pro-client-l10n ubuntu-release-upgrader-core ubuntu-server ubuntu-standard ucf udev udisks2 ufw unattended-upgrades update-manager-core update-notifier-common usb-modeswitch usb-modeswitch-data usb.ids usbutils util-linux uuid-runtime vim vim-common vim-runtime vim-tiny wget whiptail xauth xdg-user-dirs xfsprogs xkb-data xml-core xxd xz-utils zerofree zlib1g zstd cloud-init ; Start-Date: 2025-02-16  21:00:10 ; End-Date: 2025-02-16  21:00:28
Commandline: Commandline: apt-get --quiet --assume-yes --option=Dpkg::options::=--force-unsafe-io --option=Dpkg::Options::=--force-confold install grub-pc ; Start-Date: 2025-03-12  18:07:37 ; End-Date: 2025-03-12  18:08:03
Commandline: Commandline: apt-get --quiet --assume-yes --option=Dpkg::options::=--force-unsafe-io --option=Dpkg::Options::=--force-confold install linux-generic ; Start-Date: 2025-03-12  18:08:37 ; End-Date: 2025-03-12  18:11:58
Commandline: Commandline: apt-get --quiet --assume-yes --option=Dpkg::options::=--force-unsafe-io --option=Dpkg::Options::=--force-confold install openssh-server ; Start-Date: 2025-03-12  18:12:45 ; End-Date: 2025-03-12  18:13:11
Commandline: Commandline: /usr/bin/unattended-upgrades -v ; Start-Date: 2025-03-12  18:13:21 ; End-Date: 2025-03-12  18:14:11
Commandline: Commandline: apt dist-upgrade ; Start-Date: 2025-03-12  18:19:08 ; End-Date: 2025-03-12  18:21:04
Commandline: Commandline: apt install vim qemu-guest-agent ; Start-Date: 2025-03-12  18:21:23 ; End-Date: 2025-03-12  18:21:31
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:09:12 ; End-Date: 2025-10-16  06:11:42
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:11:44 ; End-Date: 2025-10-16  06:12:07
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:12:10 ; End-Date: 2025-10-16  06:12:59
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:13:00 ; End-Date: 2025-10-16  06:13:15
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:13:17 ; End-Date: 2025-10-16  06:13:37
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:13:40 ; End-Date: 2025-10-16  06:14:27
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:14:29 ; End-Date: 2025-10-16  06:14:55
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:14:57 ; End-Date: 2025-10-16  06:16:02
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:16:04 ; End-Date: 2025-10-16  06:16:47
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:16:51 ; End-Date: 2025-10-16  06:18:50
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:18:54 ; End-Date: 2025-10-16  06:19:46
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:19:49 ; End-Date: 2025-10-16  06:21:08
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:21:12 ; End-Date: 2025-10-16  06:23:23
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:23:29 ; End-Date: 2025-10-16  06:23:57
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:24:02 ; End-Date: 2025-10-16  06:24:35
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:24:40 ; End-Date: 2025-10-16  06:26:37
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:26:43 ; End-Date: 2025-10-16  06:27:05
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:27:11 ; End-Date: 2025-10-16  06:28:05
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:28:08 ; End-Date: 2025-10-16  06:28:22
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:28:25 ; End-Date: 2025-10-16  06:29:19
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:29:24 ; End-Date: 2025-10-16  06:29:42
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:29:44 ; End-Date: 2025-10-16  06:32:47
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:32:52 ; End-Date: 2025-10-16  06:33:13
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:33:15 ; End-Date: 2025-10-16  06:33:37
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:33:41 ; End-Date: 2025-10-16  06:34:17
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:34:24 ; End-Date: 2025-10-16  06:38:18
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:38:21 ; End-Date: 2025-10-16  06:38:52
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:38:56 ; End-Date: 2025-10-16  06:40:52
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:40:56 ; End-Date: 2025-10-16  06:42:06
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:42:09 ; End-Date: 2025-10-16  06:42:54
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:42:56 ; End-Date: 2025-10-16  06:44:11
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:44:13 ; End-Date: 2025-10-16  06:47:34
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:47:38 ; End-Date: 2025-10-16  06:49:16
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:49:25 ; End-Date: 2025-10-16  06:52:32
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:52:36 ; End-Date: 2025-10-16  06:53:19
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:53:26 ; End-Date: 2025-10-16  06:54:28
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:54:32 ; End-Date: 2025-10-16  06:55:10
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  06:55:13 ; End-Date: 2025-10-16  07:08:45
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  07:08:53 ; End-Date: 2025-10-16  07:11:31
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  07:11:36 ; End-Date: 2025-10-16  07:12:44
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  07:12:56 ; End-Date: 2025-10-16  07:14:43
Commandline: Commandline: /usr/bin/unattended-upgrade ; Start-Date: 2025-10-16  07:14:48 ; End-Date: 2025-10-16  07:18:17
Commandline: Commandline: apt install bzip2 p7zip-full -y ; Start-Date: 2025-10-17  08:28:23 ; End-Date: 2025-10-17  08:28:30
[?2004h]0;root@eltex-practice2-pg1-v9: ~root@eltex-practice2-pg1-v9:~# exit
[?2004llogout
Connection to 172.16.9.183 closed.
[?2004heltex-pg1-v9@eltex-2025-autumn-20:28> exit
[?2004lexit

Script done on 2025-10-21 20:28:14+07:00 [COMMAND_EXIT_CODE="0"]
